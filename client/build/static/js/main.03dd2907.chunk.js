(this.webpackJsonpmovieflix=this.webpackJsonpmovieflix||[]).push([[0],{182:function(e,n,t){},201:function(e,n,t){"use strict";t.r(n);var i=t(0),a=t.n(i),c=t(18),r=t.n(c),o=t(82),s=t(69),l=t(136),d="UPLOAD_FIREBASE_REQUEST",j="UPLOAD_FIREBASE_SUCCESS",u="UPLOAD_FIREBASE_FAIL",h=Object(s.c)({UploadFireBase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:""},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case d:return{status:"uploading"};case j:return{status:"uploaded"};case u:return{status:"uploadError"};default:return e}}}),b=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,p=Object(s.e)(h,{},b(Object(s.a)(l.a))),x=(t(182),t(27)),O=t(28),m=t(14),f=t(49),g=t(50),v=function(){function e(){Object(f.a)(this,e)}return Object(g.a)(e,[{key:"makeAPIRequest",value:function(e,n){return function(e,n){return fetch(e,n).then((function(e){return 200===e.status?e.json():e.json().then((function(e){throw new Error(e.message)}))}))}("/api/".concat(e),n)}},{key:"postJSON",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.makeAPIRequest(e,{method:"POST",headers:Object(m.a)({"Content-Type":"application/json"},t),body:JSON.stringify(n)})}},{key:"putJSON",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.makeAPIRequest(e,{method:"PUT",headers:Object(m.a)({"Content-Type":"application/json"},t),body:JSON.stringify(n)})}},{key:"getJSON",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.makeAPIRequest(e,{method:"GET",headers:Object(m.a)({"Content-Type":"application/json"},n)})}},{key:"deleteJSON",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.makeAPIRequest(e,{method:"DELETE",headers:Object(m.a)({"Content-Type":"application/json"},n)})}}]),e}(),w=window.sessionStorage;function y(e){w.setItem("token",e)}function S(){return w.getItem("token")}function k(){return S()?{Authorization:"Bearer ".concat(S())}:{}}function C(){return w.hasOwnProperty("admin")}function z(){w.clear()}function I(e){w.setItem("cartNum",e)}function N(){return w.getItem("cartNum")}function P(){var e=w.getItem("options");return e?Promise.resolve(JSON.parse(e)):(new v).getJSON("options",k()).then((function(e){return w.setItem("options",JSON.stringify(e)),e}))}function D(e){return w.getItem("adminData")}function R(e){w.setItem("adminData",e)}var E,J=t(6),T=t(25),M=t(7),L=t(5),F=t(264),A=t(2);function U(e){return Object(A.jsx)(W,{children:Object(A.jsx)(F.a,Object(m.a)({},e))})}var _,W=L.a.div(E||(E=Object(J.a)(["\n    .MuiRating-iconEmpty {\n        color: #222;\n    }\n"])));function G(e){var n=e.id,t=e.src,i=e.alt,a=e.width;return a&&t.includes("https://image.tmdb.org/t/p/")&&t.replace("original","w".concat(a)),Object(A.jsx)(x.b,{to:"/movie/".concat(n),children:Object(A.jsx)(Q,{src:t,alt:i})})}var q,B,K,V,$,Y,X,Q=L.a.img(_||(_=Object(J.a)(["\n\twidth: 100%;\n    height:100%;\n    object-fit: cover;\n    overflow: hidden;\n    :hover {\n        box-shadow: 1px 1px 10px 5px #ccc;\n    }\n"])));function H(e){var n=e.id,t=e.src,i=e.title,a=(e.value,e.date);return Object(A.jsxs)(te,{children:[Object(A.jsx)(ae,{children:Object(A.jsx)(G,{id:n,src:t,alt:i+" poster",width:"300"})}),Object(A.jsx)(ie,{children:i}),Object(A.jsxs)(ce,{children:[Object(A.jsx)(U,{name:"half-rating-read",value:e.value,precision:.5,readOnly:!0}),Object(A.jsx)(re,{children:a.split("-")[0]})]})]})}var Z,ee,ne,te=L.a.div(q||(q=Object(J.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 240px;\n    \n    margin: 3rem;\n\n    @media only screen and (max-width: 1635px) {\n        width: 180px;\n        \n      }\n    \n"]))),ie=L.a.section(B||(B=Object(J.a)(["\n    color: white;\n    width: 100%;\n    font-size: 1rem;\n    margin-top: 5px;\n    /*line-height: 1.5em;\n    height: 3em;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;*/\n"]))),ae=L.a.div(K||(K=Object(J.a)(["\n    width: 240px;\n    height: 350px;\n    @media only screen and (max-width: 1635px) {\n        width: 180px;\n        height: 260px;\n      }\n\n"]))),ce=(L.a.img(V||(V=Object(J.a)(["\n    max-width: 100%;\n    max-height: 100%;\n\n"]))),L.a.div($||($=Object(J.a)(["\n    overflow: hidden;\n    height:20px;\n    margin-bottom:1rem;\n"]))),L.a.div(Y||(Y=Object(J.a)(["\n    display:flex;\n    align-items: center;\n    justify-content: space-between;\n    width: 100%;\n    margin-top: 10px;\n\n"])))),re=L.a.section(X||(X=Object(J.a)(["\n    position: relative;\n    top: -3px;\n    font-size: 1rem;\n    color: #555;\n    margin: 0 10px;\n    font-weight: 500;\n"])));function oe(e){var n=e.title,t=e.items,i=e.keys;return Object(A.jsxs)(le,{children:[Object(A.jsxs)("header",{children:[n,":\xa0",Object(A.jsx)(je,{children:i?i.sort().join(", "):void 0})]}),Object(A.jsx)(de,{children:0===t.length?Object(A.jsx)("span",{children:" No Result "}):t})]})}var se,le=L.a.section(Z||(Z=Object(J.a)(["\n    display: flex;\n    flex-direction: column;\n    \n    header {\n        color: white;\n        font-size: 2rem;;\n        font-weight: 500;\n    }\n    margin-top: 5rem;\n    width: 100%;\n"]))),de=L.a.section(ee||(ee=Object(J.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    width:100%;\n    > span {\n        font-size: 3rem;\n        font-weight: 500;\n        color: #333;\n        margin: 50px;\n\n    }\n"]))),je=L.a.span(ne||(ne=Object(J.a)(["\n    \n"])));function ue(){return Object(A.jsxs)(xe,{children:[Object(A.jsx)("i",{className:"fas fa-spinner fa-spin"})," Loading..."]})}var he,be,pe,xe=L.a.div(se||(se=Object(J.a)(["\n    margin-top: 5rem;\n    color:white;\n    font-size: 20px;\n    \n"])));function Oe(){var e=new v,n=Object(i.useState)([]),t=Object(M.a)(n,2),a=t[0],c=t[1];return Object(i.useEffect)((function(){e.getJSON("user/rec",k()).then((function(e){var n=e.recs.filter((function(e){return 0!==e.movies.length}));n=n.map((function(e){var n=e.movies.map((function(e){return Object(A.jsx)(H,{id:e.id,src:e.url,value:e.rating,title:e.title,date:e.releaseDate},e.id)}));return Object(A.jsx)(oe,{title:e.category,items:n})})),c(Object(T.a)(n))})).catch((function(e){return console.log(e.message)}))}),[]),Object(A.jsx)(ye,{children:0===a.length?Object(A.jsx)(ue,{}):a.map((function(e){return Object(A.jsxs)(Se,{children:[" ",e," "]})}))})}var me,fe,ge,ve,we,ye=L.a.section(he||(he=Object(J.a)(["\n    border: none;\n    width: 100vw;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),Se=L.a.section(be||(be=Object(J.a)(["\n    width:90vw;\n"]))),ke=(L.a.div(pe||(pe=Object(J.a)(["\n    margin: auto;\n    width:100%;\n"]))),t(72));function Ce(){var e=a.a.useState(""),n=Object(M.a)(e,2),t=n[0],i=n[1],c=a.a.useState(""),r=Object(M.a)(c,2),o=r[0],s=r[1],l=new v,d=Object(O.f)();return S()&&d.push("/"),Object(A.jsx)(Re,{children:Object(A.jsxs)(Ee,{onSubmit:function(e){e.preventDefault();var n={email:t,password:o};l.postJSON("auth/login",n).then((function(e){if(console.log(e),y(e.token),function(e){w.setItem("email",e)}(t),e.admin)return w.setItem("admin",!0),void d.push("/admin");d.goBack()})).catch((function(e){return alert(e.message)}))},autoComplete:"off",children:[Object(A.jsx)(Je,{children:"Login"}),Object(A.jsxs)(Te,{htmlFor:"email",children:[Object(A.jsx)("span",{children:"Email:"}),Object(A.jsx)("input",{type:"text",id:"email",name:"email",value:t,onChange:function(e){return i(e.target.value)}})]}),Object(A.jsxs)(Te,{htmlFor:"password",children:[Object(A.jsx)("span",{children:"Password:"}),Object(A.jsx)("input",{type:"password",id:"password",name:"password",value:o,onChange:function(e){return s(e.target.value)}})]}),Object(A.jsx)(ke.a,{type:"submit",variant:"contained",size:"large",style:{backgroundColor:"white"},children:"Sign In"}),Object(A.jsxs)(Me,{children:[Object(A.jsx)("span",{children:" New to MovieFlix? "}),Object(A.jsx)(ke.a,{color:"primary",style:{fontSize:"1.2rem",fontWeight:"bold",textTransform:"none"},onClick:function(){d.push("/register")},children:"Register"})]})]})})}var ze,Ie,Ne,Pe,De,Re=L.a.section(me||(me=Object(J.a)(["\n\tborder: none;\n\twidth: 100vw;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),Ee=L.a.form(fe||(fe=Object(J.a)(["\n    margin-top: 150px;\n    border: none;\n    width: min(80vw, 650px);\n    min-height: 500px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    > * {\n        margin-bottom: 40px;\n    }\n"]))),Je=L.a.header(ge||(ge=Object(J.a)(["\n    font-weight: bold;\n    font-size: 2.5rem;\n    color: white;\n"]))),Te=L.a.label(ve||(ve=Object(J.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 70%;\n    > * {\n        min-height: 30px;\n    }\n\n    input {\n        width: 100%;\n        font-size: 1.5rem;\n        height: 40px;\n    }\n\n    span {\n        margin-bottom: 5px;\n        font-size: min(6vw, 1.5rem);\n        color: white;\n    }\n"]))),Me=L.a.section(we||(we=Object(J.a)(["\n    display: flex;\n    align-items: baseline;\n    justify-content: center;\n    flex-wrap: wrap;\n    margin-top: 50px;\n    > * {\n        color: white;\n        font-size: 1rem;\n    }\n"])));function Le(){var e=a.a.useState(""),n=Object(M.a)(e,2),t=n[0],i=n[1],c=a.a.useState(""),r=Object(M.a)(c,2),o=r[0],s=r[1],l=a.a.useState(""),d=Object(M.a)(l,2),j=d[0],u=d[1],h=new v,b=Object(O.f)();return S()&&b.push("/"),Object(A.jsx)(Ge,{children:Object(A.jsxs)(qe,{onSubmit:function(e){if(e.preventDefault(),t&&o&&j){var n={email:t,password:o,birthDate:j};console.log(n),h.postJSON("auth/register",n).then((function(e){console.log(e),y(e.token),b.push("/survey")})).catch((function(e){return alert(e.message)}))}else alert("Missing entries.")},autoComplete:"off",children:[Object(A.jsx)(Be,{children:"Register"}),Object(A.jsxs)(Ke,{htmlFor:"email",children:[Object(A.jsx)("span",{children:"Email:"}),Object(A.jsx)("input",{type:"text",id:"email",name:"email",value:t,onChange:function(e){return i(e.target.value)}})]}),Object(A.jsxs)(Ke,{htmlFor:"password",children:[Object(A.jsx)("span",{children:"Password:"}),Object(A.jsx)("input",{type:"password",id:"password",name:"password",value:o,onChange:function(e){return s(e.target.value)}})]}),Object(A.jsxs)(Ke,{htmlFor:"bdate",children:[Object(A.jsx)("span",{children:" Date of Birth "}),Object(A.jsx)("input",{type:"date",id:"bdate",name:"bdate",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(A.jsx)(ke.a,{type:"submit",variant:"contained",size:"large",style:{backgroundColor:"white"},children:"Submit"}),Object(A.jsxs)(Ve,{children:[Object(A.jsx)("span",{children:" Already have an account? "}),Object(A.jsx)(ke.a,{color:"primary",style:{fontSize:"1.2rem",fontWeight:"bold",textTransform:"none"},onClick:function(){b.push("/login")},children:"Sign in"})]})]})})}var Fe,Ae,Ue,_e,We,Ge=L.a.section(ze||(ze=Object(J.a)(["\n\tborder: none;\n\twidth: 100vw;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),qe=L.a.form(Ie||(Ie=Object(J.a)(["\n    margin-top: 150px;\n    border: none;\n    width: min(80vw, 650px);\n    min-height: 500px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    > * {\n        margin-bottom: 40px;\n    }\n"]))),Be=L.a.header(Ne||(Ne=Object(J.a)(["\n    font-weight: bold;\n    font-size: 2.5rem;\n    color: white;\n"]))),Ke=L.a.label(Pe||(Pe=Object(J.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 70%;\n    > * {\n        min-height: 30px;\n    }\n\n    input {\n        width: 100%;\n        font-size: 1.5rem;\n        height: 40px;\n    }\n\n    span {\n        margin-bottom: 5px;\n        font-size: min(6vw, 1.5rem);\n        color: white;\n    }\n"]))),Ve=L.a.section(De||(De=Object(J.a)(["\n    display: flex;\n    align-items: baseline;\n    justify-content: center;\n    flex-wrap: wrap;\n    margin-top: 50px;\n    > * {\n        color: white;\n        font-size: 1rem;\n    }\n"]))),$e=t(112),Ye=t.n($e),Xe=(t(117),t(144),t(146)),Qe=(t(195),Xe.a.initializeApp({projectId:"movieflix-b71c2",appId:"1:852287054194:web:e9b468d8b31892ec62fdeb",storageBucket:"movieflix-b71c2.appspot.com",locationId:"australia-southeast1",apiKey:"AIzaSyCIfVENN_qkFun4TMCZzx8Bclp0vJ8DqDg",authDomain:"movieflix-b71c2.firebaseapp.com",messagingSenderId:"852287054194",measurementId:"G-12VFWQFGJL"})),He=t(86),Ze=t(123),en=t(64);function nn(){Object(o.b)();var e=Object(i.useState)(),n=Object(M.a)(e,2),t=(n[0],n[1],a.a.useState("GET")),c=Object(M.a)(t,2),r=c[0],s=c[1],l=a.a.useState(""),d=Object(M.a)(l,2),j=d[0],u=d[1],h=a.a.useState("eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6NjczLCJlbWFpbCI6ImFkbWluQGdtYWlsLmNvbSJ9.7b7SgDXIdtmA5ddTRDTgE9Kod7t4_HRMJbm_ItlZF_Y"),b=Object(M.a)(h,2),p=b[0],x=b[1],O=a.a.useState(""),m=Object(M.a)(O,2),f=m[0],g=m[1],w=a.a.useState(""),y=Object(M.a)(w,2),S=y[0],k=y[1],C=new v;return Object(A.jsx)(un,{children:Object(A.jsxs)(hn,{onSubmit:function(e){if(e.preventDefault(),"GET"===r)C.getJSON(j,{Authorization:"Bearer ".concat(p)}).then((function(e){console.log(e),k(JSON.stringify(e))})).catch((function(e){return alert(e.message)}));else{var n={};try{n=JSON.parse(f)}catch(e){return void alert("Body: incorrect json format")}C.postJSON(j,n,{Authorization:"Bearer ".concat(p)}).then((function(e){console.log(e),k(JSON.stringify(e))})).catch((function(e){return alert("Response error: "+e.message)}))}},autoComplete:"off",children:[Object(A.jsx)(bn,{children:"Test"}),Object(A.jsx)(pn,{htmlFor:"select-type",children:Object(A.jsx)(xn,{labelId:"type-label",id:"select-type",value:r,onChange:function(e){s(e.target.value)},range:["GET","POST"]})}),Object(A.jsxs)(pn,{htmlFor:"path",children:[Object(A.jsx)("span",{children:"Path:"}),Object(A.jsx)("span",{children:"e.g. user/login (do not include /api/)"}),Object(A.jsx)("input",{type:"text",id:"path",name:"path",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(A.jsxs)(pn,{htmlFor:"token",children:[Object(A.jsx)("span",{children:"Token:"}),Object(A.jsx)("input",{type:"text",id:"token",name:"token",value:p,onChange:function(e){return x(e.target.value)}})]}),Object(A.jsxs)(pn,{htmlFor:"json",children:[Object(A.jsx)("span",{children:"Body:"}),Object(A.jsx)("textarea",{rows:"10",id:"json",name:"json",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(A.jsxs)(pn,{htmlFor:"res",children:[Object(A.jsx)("span",{children:"Response:"}),Object(A.jsx)("textarea",{rows:"10",id:"res",name:"res",value:S,onChange:function(e){return k(e.target.value)}})]}),Object(A.jsx)(ke.a,{type:"submit",variant:"contained",size:"large",style:{backgroundColor:"white"},children:"Submit"})]})})}var tn,an,cn,rn,on,sn,ln,dn,jn,un=L.a.section(Fe||(Fe=Object(J.a)(["\n    border: none;\n    width: 100vw;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    \n"]))),hn=L.a.form(Ae||(Ae=Object(J.a)(["\n    margin-top: 150px;\n    padding: 20px;\n    border: none;\n    width: 50vw;\n    min-height: 500px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    > * {\n        margin-bottom: 40px;\n    }\n    background-color: white;\n"]))),bn=L.a.header(Ue||(Ue=Object(J.a)(["\n    font-weight: bold;\n    font-size: 2.5rem;\n    \n"]))),pn=L.a.label(_e||(_e=Object(J.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 70%;\n    > * {\n        min-height: 30px;\n    }\n\n    input {\n        width: 100%;\n        font-size: 1.5rem;\n        height: 40px;\n    }\n\n    span {\n        margin-bottom: 5px;\n        font-size: min(6vw, 1.5rem);\n        \n    }\n"]))),xn=(L.a.section(We||(We=Object(J.a)(["\n    display: flex;\n    align-items: baseline;\n    justify-content: center;\n    flex-wrap: wrap;\n    margin-top: 50px;\n    > * {\n        color: white;\n        font-size: 1rem;\n    }\n"]))),function(e){e.labelName;var n=e.labelId,t=e.id,i=e.value,a=e.onChange,c=e.range;return Object(A.jsx)(He.a,{variant:"outlined",children:Object(A.jsx)(Ze.a,{labelId:n,id:t,value:i,onChange:a,children:c.map((function(e){return Object(A.jsx)(en.a,{value:e,children:e},e)}))})})});function On(){var e=new v,n=Object(O.g)(),t=Object(O.f)(),a=Object(i.useState)(void 0),c=Object(M.a)(a,2),r=c[0],o=c[1],s=Object(i.useState)(void 0),l=Object(M.a)(s,2),d=l[0],j=l[1],u=Object(i.useState)(void 0),h=Object(M.a)(u,2),b=h[0],p=h[1],x=Object(i.useState)([]),f=Object(M.a)(x,2),g=(f[0],f[1],Object(i.useState)(0)),w=Object(M.a)(g,2),y=w[0],S=w[1],k=Object(i.useState)(!1),C=Object(M.a)(k,2),z=C[0],I=C[1],N=Object(i.useState)(void 0),P=Object(M.a)(N,2),D=P[0],R=P[1],E=Object(i.useState)(void 0),J=Object(M.a)(E,2),T=J[0],L=J[1];Object(i.useEffect)((function(){var i=new URLSearchParams(n.search),a=i.get("q"),c=i.get("category"),s=parseInt(i.get("page")),l=i.get("sort_by"),u=i.get("order");if(a&&c)return a===d&&c===r?(isNaN(s)?S(0):S(s),R(l||"relevance"),void L(u||"desc")):void e.getJSON("search".concat(n.search)).then((function(e){console.log(e),e.movies=e.movies.map((function(e,n){return Object(m.a)(Object(m.a)({},e),{},{relevance:-n})})),p(e),j(a),o(c),isNaN(s)?S(0):S(s),R(l||"relevance"),L(u||"desc")})).catch((function(e){return alert(e.message)}));t.push("/")}),[n]),Object(i.useEffect)((function(){D&&T&&("title"===D?b.movies.sort(F):"rating"===D?b.movies.sort(U):"date"===D?b.movies.sort(_):"relevance"===D&&b.movies.sort(W),"asc"!==T&&b.movies.reverse(),p(Object(m.a)({},b)))}),[D,T]);var F=function(e,n){return e.title<n.title?-1:e.title>n.title?1:0},U=function(e,n){return e.rating-n.rating},_=function(e,n){return new Date(e.releaseDate)-new Date(n.releaseDate)},W=function(e,n){return e.relevance-n.relevance},G=function(e){var i=new URLSearchParams(n.search);"ascending"===e.target.value?i.set("order","asc"):"descending"===e.target.value?i.set("order","desc"):i.set("sort_by",e.target.value),t.push({pathname:"/search",search:"?"+i.toString(),state:{}})};return b?Object(A.jsxs)(mn,{children:[Object(A.jsx)(gn,{children:Object(A.jsxs)(vn,{dropDown:z,children:[Object(A.jsxs)("header",{onClick:function(){I(!z)},children:[" Sort ",Object(A.jsx)("i",{class:"fas fa-sort-amount-down"})]}),Object(A.jsxs)(wn,{dropDown:z,children:[Object(A.jsxs)(yn,{children:[Object(A.jsx)("input",{type:"radio",id:"relevance",name:"category",value:"relevance",onChange:G,checked:"relevance"===D}),Object(A.jsx)("label",{for:"relevance",children:"Relevance"}),Object(A.jsx)("input",{type:"radio",id:"title",name:"category",value:"title",onChange:G,checked:"title"===D}),Object(A.jsx)("label",{for:"title",children:"Title"}),Object(A.jsx)("input",{type:"radio",id:"rating",name:"category",value:"rating",onChange:G,checked:"rating"===D}),Object(A.jsx)("label",{for:"rating",children:"Rating"}),Object(A.jsx)("input",{type:"radio",id:"date",name:"category",value:"date",onChange:G,checked:"date"===D}),Object(A.jsx)("label",{for:"date",children:"Date"})]}),Object(A.jsx)("div",{}),Object(A.jsxs)(Sn,{children:[Object(A.jsx)("input",{type:"radio",id:"ascending",name:"order",value:"ascending",onChange:G,checked:"asc"===T}),Object(A.jsx)("label",{for:"ascending",children:"Ascending"}),Object(A.jsx)("input",{type:"radio",id:"descending",name:"order",value:"descending",onChange:G,checked:"asc"!==T}),Object(A.jsx)("label",{for:"descending",children:"Descending"})]})]})]})}),Object(A.jsx)(fn,{children:function(e,n){var t=Math.min(20*n,e.movies.length),i=e.movies.slice(t,t+20).map((function(e){return Object(A.jsx)(H,{id:e.id,src:e.url,value:e.rating,title:e.title,date:e.releaseDate},e.id)}));return Object(A.jsx)(oe,{title:e.category,items:i,keys:e.keys})}(b,y)}),Object(A.jsx)(kn,{page:y,setPageIndex:function(e){var i=new URLSearchParams(n.search);i.set("page",e),t.push({pathname:"/search",search:"?"+i.toString(),state:{}})},numItems:b.movies.length,maxItems:20})]}):Object(A.jsx)(mn,{children:Object(A.jsx)(ue,{})})}var mn=L.a.section(tn||(tn=Object(J.a)(["\n    border: none;\n    width: 100vw;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),fn=L.a.section(an||(an=Object(J.a)(["\n    width:90vw;\n    \n"]))),gn=L.a.section(cn||(cn=Object(J.a)(["\n    width: min(80vw, 850px);\n\n"]))),vn=L.a.section(rn||(rn=Object(J.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    border-bottom: 1px solid ",";\n    margin-top: 10px;\n    color: #ccc;\n    font-size: 1.2rem;\n    cursor:pointer;\n    > header {\n        font-weight: 500;\n        \n        i {\n            margin-left: 2px;\n        }\n    }\n\n    :hover {\n        color: white;\n        border-color: white;\n    }\n"])),(function(e){return e.dropDown?"white":"#555"})),wn=L.a.form(on||(on=Object(J.a)(["\n    width: 100%;\n    display: flex;\n    transition: height .5s;\n    height: ",";\n    overflow: hidden;\n\n    > div {\n        width: 0;\n        height: 97%;\n        border-left: 2px solid #555;\n        margin: 0 10px;\n    }\n"])),(function(e){return e.dropDown?"175px":"0"})),yn=L.a.section(sn||(sn=Object(J.a)(['\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    > * {\n        margin: 5px 0;\n    }\n    input[type="radio"] {\n        display: none;\n    }\n\n    label {\n        width: 100%;\n        height: 40px;\n        cursor:pointer;\n        font-size: 1rem;\n        font-weight: 500;\n        line-height: 1;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    input[type="radio"]:checked+label {\n      transition: background-color .5s;\n      background-color: #222;\n    }\n\n\n']))),Sn=L.a.section(ln||(ln=Object(J.a)(['\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    > * {\n        margin: 5px 0;\n    }\n    input[type="radio"] {\n        display: none;\n    }\n\n    label {\n        width: 100%;\n        height: 40px;\n        cursor:pointer;\n        font-size: 1rem;\n        font-weight: 500;\n        line-height: 1;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n\n    input[type="radio"]:checked+label {\n      transition: background-color .5s;\n      background-color: #222;\n    }\n\n\n'])));function kn(e){for(var n=e.page,t=e.setPageIndex,i=e.numItems,a=e.maxItems,c=Math.ceil(i/a),r=Math.min(n,c-1),o=[],s=0;s<11;s++)n+(s-5)>=0&&n+(s-5)<c&&o.push(n+(s-5));return Object(A.jsxs)(zn,{children:[Object(A.jsx)("i",{className:"fas fa-chevron-left",onClick:function(){n-1>=0&&t(n-1)}}),o.map((function(e){return Object(A.jsxs)(In,{onClick:function(){t(e)},selected:e===r,children:[" ",e+1," "]},e)})),Object(A.jsx)("i",{className:"fas fa-chevron-right",onClick:function(){n+1<c&&t(n+1)}})]})}var Cn,zn=L.a.nav(dn||(dn=Object(J.a)(["\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    align-items: center;\n    margin-top: 50px;\n    font-size: 1.3rem;\n    color: white;\n    line-height: 1;\n\n    > * {\n        margin: 0 5px;\n        cursor:pointer;\n\n    }\n\n    > i {\n        margin: 5px 10px 0 10px;\n        :hover {\n            text-decoration: underline;\n        }\n    }\n"]))),In=L.a.section(jn||(jn=Object(J.a)(["\n    text-decoration: ",";\n    :hover {\n        text-decoration: underline;\n    }\n"])),(function(e){return e.selected?"underline":"none"})),Nn=t(262),Pn=t(258),Dn=t(256),Rn=t(257),En=t(255),Jn=t(260);function Tn(e){var n=e.type,t=e.name,i=e.outline;return Object(A.jsx)(tt,{onClick:function(){var e=new URLSearchParams({q:t,category:n});window.location.href="/search?"+e.toString()},outline:i,children:t})}var Mn,Ln,Fn,An,Un,_n,Wn,Gn,qn,Bn,Kn,Vn,$n,Yn,Xn,Qn,Hn,Zn,et,nt,tt=L.a.div(Cn||(Cn=Object(J.a)(["\n    width: auto;\n    height: 28px;\n    padding: 20px;\n    text-align: center;\n\tbackground: #3c4caa;\n\tcolor: white;\n\tfont-size: 1.25rem;\n\tborder-radius: 30px;\n    white-space: nowrap;\n    &:hover {\n        /*text-decoration-line: underline;*/\n        border: 2px solid ",";\n        cursor: pointer;\n    }\n"])),(function(e){return e.outline?e.outline:"#eee"})),it=t(60);function at(){var e=new v,n=Object(O.f)(),t=(Object(O.g)(),Object(O.h)().id),a=Object(i.useState)(void 0),c=Object(M.a)(a,2),r=c[0],o=c[1],s=Object(i.useState)(!1),l=Object(M.a)(s,2),d=l[0],j=l[1],u=Object(i.useState)(!1),h=Object(M.a)(u,2),b=h[0],p=h[1],x=Object(i.useState)(!1),m=Object(M.a)(x,2),f=m[0],g=m[1],y=Object(i.useState)(!1),z=Object(M.a)(y,2),I=z[0],P=z[1],D=Object(i.useState)(0),R=Object(M.a)(D,2),E=R[0],J=R[1],T=Object(i.useState)(0),L=Object(M.a)(T,2),F=L[0],_=L[1],W=Object(i.useState)(!1),G=Object(M.a)(W,2),q=G[0],B=G[1];Object(i.useEffect)((function(){o(void 0),e.getJSON("movie/".concat(t),k()).then((function(e){o(e),g(e.purchased||e.rented),P(e.inCartRent||e.inCartPurchase),J(e.numRating),_(Number(e.rating)),B(e.ispromoted)})).catch((function(e){return alert(e.message)}))}),[t]);var K=void 0;K=I?Object(A.jsx)(Ut,{onClick:function(){n.push("/cart")},children:" In Cart "}):f?Object(A.jsx)(Dt,{onClick:function(){return n.push("/watch/".concat(t))},fullWidth:!0,variant:"contained",color:"primary",children:"Watch"}):[Object(A.jsx)(Dt,{onClick:function(){j(!0),p(!0)},variant:"contained",color:"primary",children:"Buy"}),Object(A.jsx)(Dt,{onClick:function(){j(!0),p(!1)},variant:"contained",color:"primary",children:"Rent"})];var V=void 0;return C()&&(V=[Object(A.jsx)(Dt,{onClick:function(){n.push("/edit/".concat(t))},variant:"contained",color:"secondary",children:"Edit"}),Object(A.jsx)(Dt,{onClick:function(){var n={movieID:t,promote:!q};e.postJSON("user/admin/promote",n,k()).then((function(e){B(!q)})).catch((function(e){return alert(e.message)}))},variant:"contained",color:"secondary",children:q?"unpromote":"promote"})]),r?Object(A.jsxs)(zt,{children:[Object(A.jsxs)(kt,{children:[Object(A.jsx)(St,{children:r.title}),Object(A.jsx)(Pt,{children:V}),Object(A.jsx)(It,{children:Object(A.jsx)(Nt,{src:r.url,alt:"cat"})}),Object(A.jsx)(Pt,{children:K}),Object(A.jsxs)(Rt,{children:[Object(A.jsx)(Et,{children:"Rating:"}),E>0&&Object(A.jsxs)(Ft,{children:[Object(A.jsx)(U,{name:"half-rating-read",value:F,precision:.5,readOnly:!0,size:"large"}),Object(A.jsxs)(At,{children:["(",E,")"]})]}),S()&&Object(A.jsx)(vt,{movieID:t,avgRating:[F,_],numRatings:[E,J],userRating:Number(r.userRating)})]}),Object(A.jsxs)(Nn.a,{open:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(A.jsx)(En.a,{id:"alert-dialog-title",children:"Confirm Purchase"}),Object(A.jsx)(Dn.a,{children:Object(A.jsx)(Rn.a,{id:"alert-dialog-description",children:b?"Confirm buying ".concat(r.title," for $").concat(r.purchaseprice," ?"):"Confirm renting ".concat(r.title," for 2 weeks at $").concat(r.rentprice," ?")})}),Object(A.jsxs)(Pn.a,{children:[Object(A.jsx)(ke.a,{onClick:function(){j(!1)},color:"primary",children:"Cancel"}),Object(A.jsx)(ke.a,{onClick:function(){if(S()){var i={movieID:t,rent:!b,add:!0};e.postJSON("user/cart",i,k()).then((function(e){N()&&w.setItem("cartNum",parseInt(N())+1),P(!0),n.push("/movie/".concat(t))})).catch((function(e){return alert(e.message)})),j(!1)}else n.push("/login")},color:"primary",autoFocus:!0,children:"Add to Cart"})]})]})]}),Object(A.jsxs)(Ct,{children:[Object(A.jsxs)(Mt,{children:[Object(A.jsx)(Jt,{children:"Overview"}),Object(A.jsx)(Lt,{children:r.overview})]}),Object(A.jsx)(Mt,{children:Object(A.jsxs)(Jt,{children:["MPAA: ",r.adult]})}),Object(A.jsx)(Mt,{children:Object(A.jsxs)(Jt,{children:["Runtime: ",r.runtime," min"]})}),Object(A.jsx)(Mt,{children:Object(A.jsxs)(Jt,{children:["Language: ",it.a.getName(r.language)]})}),Object(A.jsx)(Mt,{children:Object(A.jsxs)(Jt,{children:["Release Date:  ",r.release_date]})}),Object(A.jsxs)(Mt,{children:[Object(A.jsx)(Jt,{children:"Genre: "}),Object(A.jsx)(Tt,{children:r.genres.map((function(e){return Object(A.jsx)(Tn,{type:"Genre",name:e})}))})]}),Object(A.jsxs)(Mt,{children:[Object(A.jsx)(Jt,{children:"Keywords: "}),Object(A.jsx)(Tt,{children:r.keywords.map((function(e){return Object(A.jsx)(Tn,{type:"Keyword",name:e})}))})]})]})]}):Object(A.jsxs)(wt,{children:["(",Object(A.jsx)(ue,{})]})}var ct,rt,ot,st,lt,dt,jt,ut,ht,bt,pt,xt,Ot,mt,ft,gt,vt=function(e){var n=new v,t=e.movieID,a=e.avgRating,c=e.numRatings,r=e.userRating,o=Object(M.a)(c,2),s=(o[0],o[1],Object(M.a)(a,2)),l=(s[0],s[1],Object(i.useState)(r>-1)),d=Object(M.a)(l,2),j=d[0],u=d[1],h=Object(i.useState)(!1),b=Object(M.a)(h,2),p=b[0],x=b[1],O=Object(i.useState)(r>-1?r:0),m=Object(M.a)(O,2),f=m[0],g=m[1],w=Object(i.useState)(!0),y=Object(M.a)(w,2),S=y[0],C=y[1],z=Object(A.jsx)(ke.a,{onClick:function(){u(!0)},variant:"contained",color:"primary",children:"Rate this movie"});return Object(A.jsx)("div",{children:j?Object(A.jsxs)(yt,{children:[Object(A.jsx)(Et,{children:"Your Rating:"}),Object(A.jsxs)("section",{children:[Object(A.jsx)(U,{value:f,onChange:function(e,i){!function(e){var i=Number(e.target.value);g(i),C(!1),x(!0);var a={movieID:t,rating:i};n.postJSON("user/rate",a,k()).then((function(e){C(!0),x(!1)})).catch((function(e){return alert(e.message)}))}(e)},name:"half-rating",disabled:!S,precision:.5,size:"large"}),Object(A.jsx)("span",{children:p&&Object(A.jsx)("i",{className:"fas fa-spinner fa-spin"})})]})]}):z})},wt=L.a.section(Mn||(Mn=Object(J.a)(["\n    border: none;\n    width: 100vw;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),yt=L.a.section(Ln||(Ln=Object(J.a)(["\n    section {\n        display: flex;\n        align-items: center;\n        > span {\n            margin-left: 10px;\n            height: 25px;\n        }\n    }\n"]))),St=L.a.span(Fn||(Fn=Object(J.a)(["\n    Font-weight:bold,\n    color:white;\n    font-size:30px;\n"]))),kt=L.a.div(An||(An=Object(J.a)(["\n    display:flex;\n    flex-direction: column;\n    @media (max-width: 800px) {\n        margin-bottom: 3rem;\n    }\n"]))),Ct=L.a.div(Un||(Un=Object(J.a)(["\n\n    display:flex;\n    flex-direction: column;\n    margin-left:10rem;\n    @media (max-width: 800px) {\n        margin-left: 0;\n    }\n"]))),zt=L.a.div(_n||(_n=Object(J.a)(["\n    margin: auto;\n    width: 70%;\n    display:flex;\n    justify-content: center;\n    padding:5rem;\n    color:white;\n    @media (max-width: 800px) {\n        flex-direction: column;\n    }\n\n"]))),It=L.a.div(Wn||(Wn=Object(J.a)(["\n    margin-top: 2rem;\n    width: 100%;\n\n"]))),Nt=L.a.img(Gn||(Gn=Object(J.a)(["\n    width: 320px;\n\n"]))),Pt=L.a.div(qn||(qn=Object(J.a)(["\n    display:flex;\n    justify-content: space-between;\n    margin-top: 1rem;\n    width: 320px;\n    > span {\n        color: orange;\n        width: 100%;\n        font-size: 2rem;\n        font-weight: 500;\n        text-align: center;\n    }\n\n"]))),Dt=Object(L.a)(ke.a)(Bn||(Bn=Object(J.a)(["\n    width: 150px;\n    &&:disabled {\n        opacity: 0.5;\n        background: #3f51b5;\n        color: white;\n    }\n"]))),Rt=L.a.div(Kn||(Kn=Object(J.a)(["\n    padding-top: 3rem;\n    > * {\n        margin: 20px 0;\n    }\n"]))),Et=L.a.div(Vn||(Vn=Object(J.a)(["\n    margin-bottom: 0.5rem;\n    font-size 18px;\n    color:white;\n\n"]))),Jt=L.a.div($n||($n=Object(J.a)(["\n    font-size 25px;\n"]))),Tt=(Object(L.a)(Jn.a)(Yn||(Yn=Object(J.a)(["\n    font-size 15px;\n    margin-left: 1rem;\n    margin-top: 1rem;\n    display:inline;\n\n"]))),L.a.div(Xn||(Xn=Object(J.a)(["\n    margin-top: 2rem;\n    display: flex;\n    > * {\n        margin: 0 10px 20px 0;\n    }\n    flex-wrap: wrap;\n"])))),Mt=L.a.div(Qn||(Qn=Object(J.a)(["\n    \n    margin-top: 3rem;\n\n"]))),Lt=L.a.section(Hn||(Hn=Object(J.a)(["\n    color:white;\n    resize: none;\n    font-size 20px;\n    background-color:black;\n    width:100%;\n    min-height:300px;\n    border:none;\n    margin-top: 10px;\n    @media (max-width: 1317px) {\n        width:300px;\n    }\n"]))),Ft=L.a.div(Zn||(Zn=Object(J.a)(["\n    margin: 0;\n    display: flex;\n    align-items: center;\n    color: white;\n    font-size: 20px;\n    line-height: 1;\n    .MuiRating-iconEmpty {\n        color: #222;\n    }\n"]))),At=L.a.section(et||(et=Object(J.a)(["\n    margin: 0 20px;\n    position: relative;\n    top: -1px;\n"]))),Ut=L.a.button(nt||(nt=Object(J.a)(["\n    color: orange;\n    width: 100%;\n    font-size: 2rem;\n    font-weight: 500;\n    text-align: center;\n    background: none;\n    border: none;\n    padding: 0;\n    cursor: pointer;\n    outline: inherit;\n    &:hover {\n      text-decoration-line: underline;\n      text-decoration-thickness: 3px;\n    }\n"]))),_t=t(158),Wt=t(259),Gt=t(261),qt=Object(Wt.a)({limit:100});function Bt(){var e=Object(O.f)(),n=new v,t=Object(O.h)().id,a=Object(i.useState)(!1),c=Object(M.a)(a,2),r=c[0],o=c[1],s=Object(i.useState)(!0),l=Object(M.a)(s,2),d=l[0],j=l[1],u=Object(i.useState)(""),h=Object(M.a)(u,2),b=h[0],p=h[1],x=Object(i.useState)(),f=Object(M.a)(x,2),g=f[0],w=f[1],y=Object(i.useState)(!1),S=Object(M.a)(y,2),C=S[0],z=S[1],I=Object(i.useState)(void 0),N=Object(M.a)(I,2),D=N[0],R=N[1],E=Object(i.useState)([]),J=Object(M.a)(E,2),T=J[0],L=J[1],F=Object(i.useState)([]),U=Object(M.a)(F,2),_=U[0],W=U[1],G=Object(i.useState)(""),q=Object(M.a)(G,2),B=q[0],K=q[1],V=Object(i.useState)(""),$=Object(M.a)(V,2),Y=$[0],X=$[1],Q=Object(i.useState)(),H=Object(M.a)(Q,2),Z=H[0],ee=H[1],ne=Object(i.useState)(""),te=Object(M.a)(ne,2),ie=te[0],ae=te[1],ce=Object(i.useState)(""),re=Object(M.a)(ce,2),oe=re[0],se=re[1],le=Object(i.useState)(0),de=Object(M.a)(le,2),je=de[0],he=de[1],be=Object(i.useState)(0),pe=Object(M.a)(be,2),xe=pe[0],Oe=pe[1],me=Object(i.useState)(0),fe=Object(M.a)(me,2),ge=fe[0],ve=fe[1],we=Object(i.useState)(""),ye=Object(M.a)(we,2),Se=ye[0],Ce=ye[1],ze=function(){o(!0);try{Qe.storage().ref().child(Z.name).put(Z).then((function(t){t.ref.getDownloadURL().then((function(t){var i={language:B,title:ie,runtime:ge,age_rating:Y,release_date:Se,overview:oe,rentprice:xe,purchaseprice:je,url:t,genres:T,keywords:_};n.postJSON("user/admin/create",i,k()).then((function(n){o(!1),e.push("/movie/".concat(n.movieID))})).catch((function(e){return alert(e.message)}))}))}))}catch(t){return void alert("Error while uploading")}},Ie=function(){o(!0);try{if(C){Qe.storage().ref().child(Z.name).put(Z).then((function(i){i.ref.getDownloadURL().then((function(i){var a={id:t,language:B,title:ie,runtime:ge,age_rating:Y,release_date:Se,overview:oe,rentprice:xe,purchaseprice:je,url:i,genres:T,keywords:_};n.postJSON("user/admin/edit",a,k()).then((function(n){o(!1),e.push("/movie/".concat(n.movieID))})).catch((function(e){return alert(e.message)}))}))}))}else{var i={id:t,language:B,title:ie,runtime:ge,age_rating:Y,release_date:Se,overview:oe,rentprice:xe,purchaseprice:je,url:g,genres:T,keywords:_};console.log(i),n.postJSON("user/admin/edit",i,k()).then((function(n){o(!1),e.push("/movie/".concat(n.movieID))})).catch((function(e){return alert(e.message)}))}}catch(a){return void alert("Error while uploading")}};return Object(i.useEffect)((function(){P().then((function(e){var n=function(e){return e.languages=it.a.getAllNames(),e}(e);R(n)})).catch((function(e){return console.log(e.message)})),t&&n.getJSON("movie/".concat(t),k()).then((function(e){p(e.title),ae(e.title),L(e.genres),K(e.language),W(e.keywords),X(e.adult),se(e.overview),he(e.purchaseprice),Oe(e.rentprice),ve(e.runtime),Ce(e.release_date),w(e.url),j(!1)})).catch((function(e){return alert(e.message)}))}),[]),void 0===D||t&&d?Object(A.jsxs)(ei,{children:["(",Object(A.jsx)(ue,{})]}):Object(A.jsxs)(ei,{children:[Object(A.jsx)(ni,{children:t?'Edit "'.concat(b,'"'):"Create New Movie"}),Object(A.jsxs)(ji,{children:[Object(A.jsxs)(di,{children:[C||!t?Object(A.jsx)("div",{children:Object(A.jsx)(ti,{imgExtension:[".jpg",".png"],label:"Maximum file size: 5MB , accepted format: jpg|png",maxFileSize:5242880,withPreview:!0,singleImage:!0,onChange:function(e){return ee(e[0])}})}):Object(A.jsxs)("div",{children:[Object(A.jsx)(bi,{children:g?Object(A.jsx)(hi,{src:g,alt:"cat"}):null}),Object(A.jsx)(ke.a,{onClick:function(){return z(!0)},variant:"contained",color:"primary",children:"Upload New Poster"})]}),Object(A.jsxs)(pi,{children:[Object(A.jsx)(ke.a,{variant:"contained",color:"secondary",size:"large",onClick:function(){void 0!==Z||g?""!==ie?""!==B?""!==oe?""!==Se?t?Ie():ze():alert("Please input movie release date"):alert("Please input movie overview"):alert("Please input movie language"):alert("Please input movie title"):alert("Please upload movie poster")},children:"Submit"}),r&&Object(A.jsx)("i",{className:"fas fa-spinner fa-spin"})]})]}),Object(A.jsxs)(ui,{children:[Object(A.jsxs)(ai,{children:[Object(A.jsx)(ri,{children:"Title"}),Object(A.jsx)(ii,{children:Object(A.jsx)(si,{type:"text",value:ie,onChange:function(e){ae(e.target.value)},width:"90%"})})]}),Object(A.jsxs)(ai,{children:[Object(A.jsx)(ri,{children:"Genre"}),Object(A.jsx)(ii,{children:Object(A.jsx)(Gt.a,{multiple:!0,id:"tags-standard",options:D.genres,getOptionLabel:function(e){return e},renderInput:function(e){return Object(A.jsx)(_t.a,Object(m.a)(Object(m.a)({},e),{},{variant:"standard",InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{disableUnderline:!0})}))},value:T,onChange:function(e,n){return L(n)}})})]}),Object(A.jsxs)(ai,{children:[Object(A.jsx)(ri,{children:"Language"}),Object(A.jsx)(ii,{children:Object(A.jsx)(Gt.a,{id:"tags-standard",options:D.languages,getOptionLabel:function(e){return e},renderInput:function(e){return Object(A.jsx)(_t.a,Object(m.a)(Object(m.a)({},e),{},{variant:"standard",InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{disableUnderline:!0})}))},value:it.a.getName(B),onChange:function(e,n){return K(n?it.a.getCode(n):"")}})})]}),Object(A.jsxs)(ai,{children:[Object(A.jsx)(ri,{children:"Keyword"}),Object(A.jsx)(ii,{children:Object(A.jsx)(Gt.a,{filterOptions:qt,multiple:!0,id:"tags-standard",options:D.keywords,getOptionLabel:function(e){return e},renderInput:function(e){return Object(A.jsx)(_t.a,Object(m.a)(Object(m.a)({},e),{},{variant:"standard",InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{disableUnderline:!0})}))},value:_,onChange:function(e,n){return W(n)}})})]}),Object(A.jsxs)(ai,{children:[Object(A.jsx)(ri,{children:"Age Ratings"}),Object(A.jsx)(ii,{children:Object(A.jsx)(Gt.a,{id:"tags-standard",options:D.ageRatings,getOptionLabel:function(e){return e},renderInput:function(e){return Object(A.jsx)(_t.a,Object(m.a)(Object(m.a)({},e),{},{variant:"standard",InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{disableUnderline:!0})}))},value:Y,onChange:function(e,n){return X(n)}})})]}),Object(A.jsxs)(ai,{children:["Overview",Object(A.jsx)(oi,{type:"text",value:oe,onChange:function(e){se(e.target.value)}})]}),Object(A.jsxs)(ci,{children:[Object(A.jsxs)(ai,{children:["Purchase Price",Object(A.jsx)(li,{type:"number",step:"1",pattern:"\\d+",value:je,onChange:function(e){he(e.target.value)}})]}),Object(A.jsxs)(ai,{children:["Rent Price",Object(A.jsx)(li,{type:"number",step:"1",pattern:"\\d+",value:xe,onChange:function(e){Oe(e.target.value)}})]})]}),Object(A.jsxs)(ci,{children:[Object(A.jsxs)(ai,{children:["Runtime (minutes)",Object(A.jsx)(li,{type:"number",step:"1",pattern:"\\d+",value:ge,onChange:function(e){ve(e.target.value)}})]}),Object(A.jsxs)(ai,{children:["Release Date",Object(A.jsx)(li,{type:"date",value:Se,onChange:function(e){Ce(e.target.value)},width:"150px"})]})]})]})]})]})}var Kt,Vt,$t,Yt,Xt,Qt,Ht,Zt,ei=L.a.section(ct||(ct=Object(J.a)(["\n    border: none;\n    width: 100vw;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),ni=L.a.div(rt||(rt=Object(J.a)(["\n    color:white;\n    font-size: 40px;\n    font-weight: bold;\n    text-align: center;\n    margin:5rem;\n"]))),ti=Object(L.a)(Ye.a)(ot||(ot=Object(J.a)(["\n    width: 250px;\n    height:20rem;\n"]))),ii=L.a.div(st||(st=Object(J.a)(["\n    background-color:white;\n    padding: 10px;\n    border-radius: 10px;\n    input {\n        border-bottom: none;\n    }\n"]))),ai=L.a.div(lt||(lt=Object(J.a)(["\n    \n    padding-bottom: 3rem;\n\n\n"]))),ci=L.a.div(dt||(dt=Object(J.a)(["\n    display:flex;\n    > * {\n        margin-right: 50px;\n    }\n\n    input {\n        margin-left: 10px;\n    }\n"]))),ri=L.a.div(jt||(jt=Object(J.a)(["\n    margin-bottom:1rem;\n\n"]))),oi=L.a.textarea(ut||(ut=Object(J.a)(["\n    padding: 15px;\n    resize: none;\n    font-size 20px;\n    width:42rem;\n    height:300px;\n    border-radius: 5px;\n    margin-top: 1rem;\n\n"]))),si=L.a.input(ht||(ht=Object(J.a)(["\n    border: none;\n    outline: none;\n    width: ",";\n    height: 2rem;\n"])),(function(e){return e.width?e.width:"80px"})),li=L.a.input(bt||(bt=Object(J.a)(["\n    padding: 10px;\n    border-radius: 5px;\n    width: ",";\n    height: 2rem;\n    font-size: 1rem;\n"])),(function(e){return e.width?e.width:"80px"})),di=L.a.div(pt||(pt=Object(J.a)(["\n    flex: 1.5;\n    display:flex;\n    flex-direction: column;\n"]))),ji=L.a.div(xt||(xt=Object(J.a)(["\n    display:flex;\n    width: min(80vw, 1200px);\n    color:white;\n    font-size: 18px;\n"]))),ui=L.a.div(Ot||(Ot=Object(J.a)(["\n    flex: 2;\n    display:flex;\n    flex-direction: column;\n    padding: 20px;\n\n"]))),hi=L.a.img(mt||(mt=Object(J.a)(["\n    max-width: 100%;\n    max-height: 100%;\n\n"]))),bi=L.a.div(ft||(ft=Object(J.a)(["\n    width: 240px;\n    height: 360px;\n    @media only screen and (max-width: 1635px) {\n        width: 180px;\n        height: 240px;\n      }\n\n"]))),pi=L.a.span(gt||(gt=Object(J.a)(["\n    margin-top: 2rem;\n    > button {\n        margin-right: 1rem;\n    }\n\n"])));function xi(){var e=Object(O.f)(),n=a.a.useState(""),t=Object(M.a)(n,2),i=t[0],c=t[1],r=a.a.useState(""),o=Object(M.a)(r,2),s=o[0],l=o[1],d=a.a.useState([]),j=Object(M.a)(d,2),u=j[0],h=j[1],b=a.a.useState([]),p=Object(M.a)(b,2),x=p[0],f=p[1],g=a.a.useState(!1),w=Object(M.a)(g,2),y=w[0],C=w[1],z=a.a.useState([]),I=Object(M.a)(z,2),N=I[0],D=I[1],R=a.a.useState(!1),E=Object(M.a)(R,2),J=E[0],L=E[1],F=new v;a.a.useEffect((function(){S()?F.getJSON("user/profile",k()).then((function(e){console.log(e),c(e.email),l(e.birthDate),h(Object(T.a)(e.likedGenre)),f(Object(T.a)(e.likedGenre))})).catch((function(e){return alert(e.message)})):e.push("/")}),[]);if(!i)return Object(A.jsx)(wi,{children:Object(A.jsx)(ue,{})});var U=0===x.length?Object(A.jsx)("span",{children:"No favourites."}):Object(A.jsxs)(zi,{children:[Object(A.jsx)("span",{children:"Favourite Genres:"})," ",x.map((function(e){return Object(A.jsx)(Tn,{type:"Genre",name:e,outline:"#0e1025"})}))]});return Object(A.jsxs)(wi,{children:[Object(A.jsxs)(yi,{children:[Object(A.jsx)(Ci,{children:Object(A.jsx)("img",{src:"./images/userIcon.svg",alt:"user icon"})}),Object(A.jsxs)(Si,{children:[Object(A.jsx)("span",{children:"Email:"}),Object(A.jsx)("span",{children:i})]}),Object(A.jsxs)(Si,{children:[Object(A.jsx)("span",{children:"Date of Birth:"}),Object(A.jsx)("span",{children:s})]})]}),Object(A.jsxs)(yi,{children:[Object(A.jsx)("div",{}),Object(A.jsxs)(Si,{children:[y?Object(A.jsx)("span",{children:"Favourite Genres:"}):null,y?Object(A.jsx)(Ii,{children:Object(A.jsx)(Gt.a,{multiple:!0,id:"tags-standard",options:N,getOptionLabel:function(e){return e},renderInput:function(e){return Object(A.jsx)(_t.a,Object(m.a)(Object(m.a)({},e),{},{variant:"standard"}))},value:u,onChange:function(e,n){return h(n)}})}):U]}),Object(A.jsxs)(ki,{children:[!J&&y&&Object(A.jsx)(ke.a,{onClick:function(){C(!1)},variant:"contained",size:"large",color:"secondary",style:{fontSize:"1rem",fontWeight:"bold",color:"white",margin:"0 20px"},children:"Cancel"}),Object(A.jsxs)(ke.a,{onClick:function(){if(y){if(!J){L(!0);var e={likedGenre:u};console.log(e),F.postJSON("user/survey",e,k()).then((function(e){C(!1),L(!1),f(Object(T.a)(u))})).catch((function(e){return alert(e.message)}))}}else P().then((function(e){D(e.genres),C(!0)})).catch((function(e){return console.log(e.message)}))},variant:"contained",size:"large",color:y?"primary":"secondary",style:{fontSize:"1rem",fontWeight:"bold",color:"white"},children:[J&&Object(A.jsx)("i",{className:"fas fa-spinner fa-spin",style:{fontSize:"1.75rem"}}),!J&&y&&"submit",!J&&!y&&"edit"]})]})]})]})}var Oi,mi,fi,gi,vi,wi=L.a.section(Kt||(Kt=Object(J.a)(["\n\tborder: none;\n\twidth: 100vw;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),yi=L.a.section(Vt||(Vt=Object(J.a)(["\n    margin-top: 120px;\n    border: none;\n    width: min(80vw, 650px);\n    min-height: 0;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background-color: white;\n    > :nth-child(2) {\n        \n        border-bottom: 2px solid #eee;\n    }\n\n    border-radius: 10px;\n    padding: 10px 20px;\n"]))),Si=(L.a.header($t||($t=Object(J.a)(["\n    font-weight: bold;\n    font-size: 3.5rem;\n    color: white;\n"]))),L.a.label(Yt||(Yt=Object(J.a)(["\n    display: flex;\n    align-items: center;\n    width: 100%;\n    /*box-shadow: 1px 0 5px #ccc;*/\n    span {\n        margin: 10px;\n        font-size: min(6vw, 1.5rem);\n    }\n\n    span:first-child {\n        font-weight: 500;\n    }\n    padding: 10px;\n"])))),ki=L.a.section(Xt||(Xt=Object(J.a)(["\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    padding: 10px;\n    > * {\n        margin: 10px;\n    }\n\n\n"]))),Ci=L.a.section(Qt||(Qt=Object(J.a)(["\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    img {\n        width: 200px;\n        margin: 50px 0;\n        /*filter: invert(.75);*/\n    }\n\n"]))),zi=L.a.section(Ht||(Ht=Object(J.a)(["\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    > * {\n        margin: 5px 10px;\n    }\n"]))),Ii=L.a.section(Zt||(Zt=Object(J.a)(["\n    width: 100%;\n    padding: 30px;\n    \n    span.MuiChip-label {\n        padding: 10px;\n        font-size: min(6vw, 1.2rem);\n        color: #999;\n    }\n"]))),Ni=t(103);function Pi(){var e=new v,n=Object(O.f)(),t=a.a.useState("Purchases"),i=Object(M.a)(t,2),c=i[0],r=i[1],o=["Purchases","Rentals"],s=a.a.useState("Past Week"),l=Object(M.a)(s,2),d=l[0],j=l[1],u=["Past Week","Past Month","Past Year","All Time"],h=a.a.useState("Most Sales"),b=Object(M.a)(h,2),p=b[0],x=b[1],m=["Most Sales","Least Sales"],f=a.a.useState(!1),g=Object(M.a)(f,2),w=g[0],y=g[1],S=a.a.useState({}),z=Object(M.a)(S,2),I=z[0],N=z[1];a.a.useEffect((function(){C()?P():n.push("/")}),[w]);var P=function(){var n=o[0]===c?"purchase":"rent",t=86400;d===u[0]?t*=7:d===u[1]?t*=31:d===u[2]?t*=365:d===u[3]&&(t=365*t*20);var i=Math.floor((new Date).getTime()/1e3),a=new URLSearchParams({start:i-t,end:i}).toString();e.getJSON("user/admin/sales/".concat(n,"?").concat(a),k()).then((function(e){console.log(e),N(e)})).catch((function(e){return alert(e.message)}))};return Object(A.jsx)(Ui,{children:Object(A.jsxs)(_i,{children:[Object(A.jsxs)(Wi,{children:[Object(A.jsx)(Gi,{htmlFor:"select-type",children:Object(A.jsx)(qi,{labelId:"type-label",id:"select-type",value:c,onChange:function(e){r(e.target.value),y(!w)},range:o})}),Object(A.jsx)(Gi,{htmlFor:"select-time",children:Object(A.jsx)(qi,{labelId:"time-label",id:"select-time",value:d,onChange:function(e){j(e.target.value),y(!w)},range:u})}),Object(A.jsx)(Gi,{htmlFor:"select-sort",children:Object(A.jsx)(qi,{labelId:"sort-label",id:"select-sort",value:p,onChange:function(e){x(e.target.value)},range:m})})]}),Object(A.jsx)(Bi,{data:I,descending:p===m[0]})]})})}var Di,Ri,Ei,Ji,Ti,Mi,Li,Fi,Ai,Ui=L.a.section(Oi||(Oi=Object(J.a)(["\n\tborder: none;\n\twidth: 100vw;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),_i=L.a.section(mi||(mi=Object(J.a)(["\n    margin-top: 100px;\n    padding: 30px;\n    border-radius: 25px;\n    width: min(80vw, 800px);\n    min-height: 0;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background-color: white;\n   \n"]))),Wi=L.a.section(fi||(fi=Object(J.a)(["\n    display: flex;\n    width: 100%;\n    align-items: baseline;\n    font-weight: normal;\n    font-size: 1.3rem;\n    > span {\n        margin: 0 20px;\n    }\n"]))),Gi=L.a.label(gi||(gi=Object(J.a)(["\n  display: flex;\n  align-items: center;\n  margin: 20px 10px;\n  \n  span {\n    margin: 10px;\n    font-size: min(6vw, 1em);\n    font-weight: bold;\n  }\n"]))),qi=function(e){e.labelName;var n=e.labelId,t=e.id,i=e.value,a=e.onChange,c=e.range;return Object(A.jsx)(He.a,{variant:"outlined",children:Object(A.jsx)(Ze.a,{labelId:n,id:t,value:i,onChange:a,children:c.map((function(e){return Object(A.jsx)(en.a,{value:e,children:e},e)}))})})},Bi=function(e){var n=e.data,t=e.descending;n.result||(n.result=[]);for(var i={},a={},c=0;c<n.result.length;c++){var r=n.result[c].movieTitle;i[r]=(i[r]||0)+1,a[r]=n.result[c].movieID}var o=Object.keys(i).map((function(e,n){return{id:a[e],title:e,sales:i[e]}}));t?o.sort((function(e,n){return n.sales-e.sales})):o.sort((function(e,n){return e.sales-n.sales}));return Object(A.jsx)(Ki,{children:Object(A.jsx)(Ni.a,{rows:o,columns:[{field:"id",headerName:"ID",width:150},{field:"title",headerName:"Title",width:350},{field:"sales",headerName:"Sales",type:"number",width:150}],pageSize:8})})},Ki=L.a.section(vi||(vi=Object(J.a)(["\n  margin-top: 20px;\n  border-radius: 15px;\n  padding: 0;\n  width: 100%;\n  height: 580px;\n  * {\n    z-index: 0;\n  }\n"])));function Vi(){var e=new v,n=Object(O.f)(),t=a.a.useState(!1),i=Object(M.a)(t,2),c=i[0],r=(i[1],a.a.useState(void 0)),o=Object(M.a)(r,2),s=o[0],l=o[1],d=a.a.useState(0),j=Object(M.a)(d,2),u=j[0],h=j[1],b=a.a.useState(!1),p=Object(M.a)(b,2),x=p[0],m=p[1];a.a.useEffect((function(){e.getJSON("user/cart",k()).then((function(e){console.log(e);for(var n=[],i=0,a=0;a<e.cart.length;a+=1)n.push(Object(A.jsx)(ia,{item:e.cart[a],update:t},e.cart[a].movieID)),i+=e.cart[a].price;l([].concat(n)),h(i),m(0!==n.length)})).catch((function(e){return alert(e.message)}))}),[c]);return s?Object(A.jsx)(Zi,{children:Object(A.jsxs)(na,{children:[Object(A.jsx)("header",{children:" Cart "}),0===s.length?Object(A.jsx)("span",{children:" No movies in cart. "}):s,x&&Object(A.jsxs)(ta,{children:[" Total: ","$".concat(u.toFixed(2))," "]}),Object(A.jsx)(ea,{children:x&&Object(A.jsx)(ke.a,{onClick:function(){n.push("/payment")},variant:"contained",size:"large",color:"primary",fullWidth:!0,style:{fontSize:"1.2rem",fontWeight:"bold",color:"white"},children:"Checkout"})})]})}):Object(A.jsx)(Zi,{children:Object(A.jsx)(ue,{})})}var $i,Yi,Xi,Qi,Hi,Zi=L.a.section(Di||(Di=Object(J.a)(["\n\tborder: none;\n\twidth: 100vw;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),ea=L.a.section(Ri||(Ri=Object(J.a)(["\n\n"]))),na=L.a.section(Ei||(Ei=Object(J.a)(["\n    margin-top: 70px;\n    width: min(80vw, 1100px);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    > * {\n        color: white;\n        width: 100%;\n        margin-bottom: 100px;\n    }\n\n    > header {\n        font-size: 4rem;\n        font-weight: 500;\n        text-align: center;\n        color: orange;\n        margin-bottom: 40px;\n    }\n\n    > span {\n        font-size: 3rem;\n        font-weight: 500;\n        color: #333;\n        width: 100%;\n        text-align: center;\n\n    }\n"]))),ta=L.a.section(Ji||(Ji=Object(J.a)(["\n    width: 100%;\n    color: white;\n    font-size: 2.5rem;\n    text-align: center;\n    \n"]))),ia=function(e){var n=new v,t=Object(O.f)(),i=e.item,c=e.update,r=Object(M.a)(c,2),o=r[0],s=r[1],l=i.movieID,d=i.title,j=i.url,u=i.rent,h=i.price,b=a.a.useState(!1),p=Object(M.a)(b,2),x=p[0],m=p[1];return Object(A.jsxs)(aa,{children:[Object(A.jsx)(ca,{children:Object(A.jsx)(G,{id:l,src:j,alt:d+" poster",width:"300"})}),Object(A.jsxs)(ra,{children:[Object(A.jsxs)("header",{children:[" ",d," "]}),Object(A.jsxs)("span",{children:[" ",u?"Rent":"Buy"," "]})]}),Object(A.jsx)(oa,{children:"$".concat(h.toFixed(2))}),Object(A.jsx)(sa,{children:Object(A.jsx)(ke.a,{onClick:function(){m(!0);var e={movieID:l,rent:u,add:!1};n.postJSON("user/cart",e,k()).then((function(e){N()&&w.setItem("cartNum",parseInt(N())-1),s(!o),t.push("/cart")})).catch((function(e){return alert(e.message)}))},variant:"contained",size:"large",color:"secondary",fullWidth:!0,style:{fontSize:"1.2rem",fontWeight:"bold",color:"white"},children:x?Object(A.jsx)("i",{className:"fas fa-spinner fa-spin"}):"X"})})]})},aa=L.a.section(Ti||(Ti=Object(J.a)(["\n    width: 100%;\n    display: flex;\n    \n"]))),ca=L.a.section(Mi||(Mi=Object(J.a)(["\n    width: 200px;\n    margin-right: 100px;\n"]))),ra=L.a.section(Li||(Li=Object(J.a)(["\n    width: 400px;\n    display: flex;\n    flex-direction: column;\n    font-size: 1.8rem;\n    margin-right: 50px;\n    > * {\n        margin-bottom: 30px;\n    }\n"]))),oa=L.a.section(Fi||(Fi=Object(J.a)(["\n    width: 100px;\n    display: flex;\n    font-size: 1.8rem;\n\n"]))),sa=L.a.section(Ai||(Ai=Object(J.a)(["\n    width: 100px;\n    height: 100%;\n    margin-left: auto;\n"])));function la(){var e=new v,n=Object(O.f)(),t=a.a.useState(0),i=Object(M.a)(t,2),c=i[0],r=i[1],o=a.a.useState(""),s=Object(M.a)(o,2),l=s[0],d=s[1],j=a.a.useState(""),u=Object(M.a)(j,2),h=u[0],b=u[1],p=a.a.useState(""),x=Object(M.a)(p,2),m=x[0],f=x[1];a.a.useEffect((function(){e.getJSON("user/cart",k()).then((function(e){console.log(e);for(var n=0,t=0;t<e.cart.length;t+=1)n+=e.cart[t].price;r(n)})).catch((function(e){return alert(e.message)}))}),[]);return Object(A.jsx)(pa,{children:Object(A.jsxs)(Oa,{onSubmit:function(t){if(t.preventDefault(),/([0-9]{4}\s?){4}/.test(l))if(/[0-9]{2}\/[0-9]{2}/.test(m)){var i=m.split("/"),a=parseInt(i[0]),c=parseInt("20"+i[1]);if(a<1||a>12)alert("Invalid date of expire.");else if(new Date(c,a)<new Date)alert("Your card has expired");else if(/[0-9]{3}/.test(h)){var r={cardNo:l,expDate:m,cvv:h};e.postJSON("user/purchase",r,k()).then((function(e){I(0),n.push("/history")})).catch((function(e){return alert(e.message)}))}else alert("Invalid cvv.")}else alert("Invalid date.");else alert("Invalid card number.")},autoComplete:"off",children:[Object(A.jsxs)(ma,{children:["Total: ","$".concat(c.toFixed(2))]}),Object(A.jsxs)(fa,{htmlFor:"cardNo",children:[Object(A.jsx)("span",{children:"Card Number:"}),Object(A.jsx)("input",{type:"text",id:"cardNo",name:"cardNo",placeholder:"1234 5678 9123 4567",value:l,onChange:function(e){return d(e.target.value)}})]}),Object(A.jsxs)(xa,{children:[Object(A.jsx)("div",{children:Object(A.jsxs)(fa,{htmlFor:"exp",children:[Object(A.jsx)("span",{children:"Expiry Date:"}),Object(A.jsx)("input",{type:"text",id:"exp",name:"exp",placeholder:"01 / 21",value:m,onChange:function(e){return f(e.target.value)}})]})}),Object(A.jsx)("div",{children:Object(A.jsxs)(fa,{htmlFor:"cvv",children:[Object(A.jsx)("span",{children:"Security Code:"}),Object(A.jsx)("input",{type:"password",id:"cvv",name:"cvv",placeholder:"CVV",value:h,onChange:function(e){return b(e.target.value)}})]})})]}),Object(A.jsx)(ke.a,{type:"submit",variant:"contained",size:"large",style:{backgroundColor:"white"},children:"Submit"})]})})}var da,ja,ua,ha,ba,pa=L.a.section($i||($i=Object(J.a)(["\n    border: none;\n    width: 100vw;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),xa=L.a.section(Yi||(Yi=Object(J.a)(["\n    display:flex;\n    flex-direction: row;\n    justify-content: space-between;\n    width: 100%;\n    > div {\n        width: 40%;\n    }\n"]))),Oa=L.a.form(Xi||(Xi=Object(J.a)(["\n    margin-top: 150px;\n    border: none;\n    width: min(80vw, 650px);\n    min-height: 500px;\n    display: flex;\n    flex-direction: column;\n    \n    > * {\n        margin-bottom: 40px;\n    }\n"]))),ma=L.a.header(Qi||(Qi=Object(J.a)(["\n    font-weight: bold;\n    font-size: 2.5rem;\n    color: white;\n"]))),fa=L.a.label(Hi||(Hi=Object(J.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    > * {\n        min-height: 30px;\n    }\n\n    input {\n        width: 100%;\n        font-size: 1.5rem;\n        height: 40px;\n    }\n\n    span {\n        margin-bottom: 5px;\n        font-size: min(6vw, 1.5rem);\n        color: white;\n    }\n"])));function ga(){var e=new v,n=(Object(O.f)(),a.a.useState([])),t=Object(M.a)(n,2),i=t[0],c=t[1];return a.a.useEffect((function(){e.getJSON("user/purchase",k()).then((function(e){var n=Math.floor((new Date).getTime()/1e3),t=[],i=e.purchase.map((function(e){return Object(A.jsx)(Ca,{item:e},e.movieID)}));t.push(Object(A.jsx)(oe,{title:"Purchased",items:i}));var a=e.rent.filter((function(e){return e.endtime>n}));a=a.map((function(e){return Object(A.jsx)(Ca,{item:e},e.movieID)})),t.push(Object(A.jsx)(oe,{title:"Rental",items:a})),c([].concat(t))})).catch((function(e){return alert(e.message)}))}),[]),Object(A.jsx)(Sa,{children:0===i.length?Object(A.jsx)(ue,{}):i.map((function(e){return Object(A.jsxs)(ka,{children:[" ",e," "]})}))})}var va,wa,ya,Sa=L.a.section(da||(da=Object(J.a)(["\n\tborder: none;\n\twidth: 100vw;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),ka=L.a.section(ja||(ja=Object(J.a)(["\n    width: 90vw;\n"]))),Ca=function(e){new v;var n=Object(O.f)(),t=e.item,i=t.movieID,a=t.title,c=t.url,r=(t.ptime,t.endtime),o=Math.floor((new Date).getTime()/1e3),s=null;return r&&r>o&&(s=Math.ceil((r-o)/86400)),Object(A.jsxs)(za,{children:[s?Object(A.jsxs)(Na,{children:[" ","".concat(s," days left")," "]}):null,Object(A.jsx)(Ia,{children:Object(A.jsx)(G,{id:i,src:c,alt:a+" poster",width:"300"})}),Object(A.jsxs)("header",{children:[" ",a," "]}),Object(A.jsx)(ke.a,{onClick:function(){return n.push("/watch/".concat(i))},variant:"contained",size:"large",color:"primary",fullWidth:!0,style:{fontSize:"1rem",fontWeight:"bold",color:"white"},children:"Watch"})]})},za=L.a.section(ua||(ua=Object(J.a)(["\n    display:flex;\n    flex-direction: column;\n    color: white;\n    width: 200px;\n    margin: 3rem;\n    > * {\n        margin-bottom: 30px;\n    }\n    header {\n        overflow-wrap: anywhere;\n        font-size: 1.2rem;\n    }\n    img {\n        width: 200px;\n    }\n"]))),Ia=L.a.section(ha||(ha=Object(J.a)(["\n    width: 200px;\n"]))),Na=L.a.section(ba||(ba=Object(J.a)(["\n    width: 100%;\n    font-size: 1rem;\n    font-weight: bold;\n    color: green;\n    text-align: center:\n"])));function Pa(){var e=new v,n=Object(O.h)().id,t=a.a.useState(""),i=Object(M.a)(t,2),c=i[0],r=i[1],o=a.a.useState(" "),s=Object(M.a)(o,2),l=s[0],d=s[1],j=a.a.useRef(null);return a.a.useEffect((function(){j.current.scrollIntoView(),e.getJSON("movie/".concat(n),k()).then((function(e){d(e.title),r("Woops! Unable to retreive your movie, please come back later. (~_^)")})).catch((function(e){return alert(e.message)}))}),[]),Object(A.jsx)(Aa,{children:Object(A.jsxs)(Ua,{ref:j,children:[Object(A.jsxs)("header",{children:[" ",l," "]}),Object(A.jsx)(_a,{children:c?Object(A.jsxs)("span",{children:[" ",c," "]}):Object(A.jsx)("i",{className:"fa fa-spinner fa-spin"})})]})})}var Da,Ra,Ea,Ja,Ta,Ma,La,Fa,Aa=L.a.section(va||(va=Object(J.a)(["\n\tborder: none;\n\twidth: 100vw;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),Ua=L.a.section(wa||(wa=Object(J.a)(["\n    > header {\n        color: white;\n        font-size: min(7vw, 2rem);\n        margin: 70px 0 10px 20px;\n        font-weight: 500;\n        min-height: 2.5rem;\n    }\n"]))),_a=L.a.section(ya||(ya=Object(J.a)(["\n    width: 90vw;\n    height: 40vw;\n    background: #111;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: white;\n    font-size: 5rem;\n    > span {\n        text-align: center;\n        font-size: min(5vw, 2rem);\n        width: 40vw;\n    }\n"])));function Wa(e){var n=new v,t=Object(O.f)(),i=a.a.useState([]),c=Object(M.a)(i,2),r=c[0],o=c[1],s=a.a.useState([]),l=Object(M.a)(s,2),d=l[0],j=l[1];a.a.useEffect((function(){P().then((function(e){j(e.genres)})).catch((function(e){return console.log(e.message)}))}),[]);return Object(A.jsxs)(dc,{children:[Object(A.jsx)(jc,{children:"Help us recommend you better Movies. Take a quick survey."}),Object(A.jsxs)(uc,{onSubmit:function(e){e.preventDefault();var i={likedGenre:r};console.log(i),n.postJSON("user/survey",i,k()).then((function(e){t.go(-2)})).catch((function(e){return alert(e.message)}))},autoComplete:"off",children:[Object(A.jsxs)(hc,{htmlFor:"genres",children:[Object(A.jsx)("span",{children:" What are some of your favourite movie genres? "}),Object(A.jsx)(xc,{children:Object(A.jsx)(Gt.a,{multiple:!0,id:"tags-standard",options:d,getOptionLabel:function(e){return e},renderInput:function(e){return Object(A.jsx)(_t.a,Object(m.a)(Object(m.a)({},e),{},{variant:"standard"}))},value:r,onChange:function(e,n){return o(n)}})})]}),Object(A.jsx)(ke.a,{type:"submit",variant:"contained",size:"large",color:"primary",children:"Submit"}),Object(A.jsx)(bc,{children:Object(A.jsxs)(pc,{type:"button",onClick:function(){t.go(-2)},children:["Skip \xa0",Object(A.jsx)("i",{className:"fas fa-chevron-right"})]})})]})]})}var Ga,qa,Ba,Ka,Va,$a,Ya,Xa,Qa,Ha,Za,ec,nc,tc,ic,ac,cc,rc,oc,sc,lc=Object(L.b)(Da||(Da=Object(J.a)(["\n  from {\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  to {\n    opacity: 100%;\n    pointer-events: auto;\n  }\n"]))),dc=L.a.section(Ra||(Ra=Object(J.a)(["\n    position: fixed;\n    z-index: 1;\n    top: 0;\n    left: 0;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100vw;\n    height:100vh;\n    background: #eee;\n    overflow: scroll;\n    \n    animation-delay: 0s;\n    animation-name: ",";\n    animation-duration: 0.5s;\n    animation-timing-function: ease-in-out;\n    animation-fill-mode: forwards;\n"])),lc),jc=L.a.header(Ea||(Ea=Object(J.a)(["\n    width: 30vw;\n    color: #999;\n    font-size: 2rem;\n    font-weight: 500;\n    text-align: center;\n    margin-top: 150px;\n    opacity: 0;\n    animation-delay: 1s;\n    animation-name: ",";\n    animation-duration: 0.8s;\n    animation-timing-function: ease-in-out;\n    animation-fill-mode: forwards;\n"])),lc),uc=L.a.form(Ja||(Ja=Object(J.a)(["\n    margin-top: 100px;\n    border: none;\n    width: min(80vw, 650px);\n    min-height: 500px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    > * {\n        margin-bottom: 100px;\n    }\n\n    > :nth-child(1) {\n        opacity: 0;\n        animation-delay: 1.5s;\n        animation-name: ",";\n        animation-duration: 0.8s;\n        animation-timing-function: ease-in-out;\n        animation-fill-mode: forwards;\n    }\n\n    > :nth-child(2) {\n        opacity: 0;\n        animation-delay: 2s;\n        animation-name: ",";\n        animation-duration: 0.8s;\n        animation-timing-function: ease-in-out;\n        animation-fill-mode: forwards;\n    }\n\n    > :nth-child(3) {\n        opacity: 0;\n        animation-delay: 2.5s;\n        animation-name: ",";\n        animation-duration: 0.8s;\n        animation-timing-function: ease-in-out;\n        animation-fill-mode: forwards;\n    }\n"])),lc,lc,lc),hc=L.a.label(Ta||(Ta=Object(J.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 80%;\n    > * {\n        min-height: 30px;\n    }\n\n    > input {\n        width: 97%;\n        font-size: 1.5rem;\n        height: 40px;\n        border: none;\n        padding: 10px;\n        border-radius: 20px;\n    }\n\n    > span {\n        margin-bottom: 20px;\n        margin-left: 0px;\n        font-size: min(6vw, 1.5rem);\n        color: #999;\n    }\n\n"]))),bc=L.a.section(Ma||(Ma=Object(J.a)(["\n    display: flex;\n    align-items: baseline;\n    justify-content: center;\n    flex-wrap: wrap;\n    \n    > * {\n        color: white;\n        font-size: 1rem;\n    }\n    \n"]))),pc=L.a.button(La||(La=Object(J.a)(["\n    margin-top: 80px;\n    background: none;\n    border:none;\n    padding: 0;\n    font-size: 1.1rem;\n    font-weight: bold;\n    color: #999;\n    &:hover {\n      text-decoration-line: underline;\n      text-decoration-thickness: 2px;\n    }\n"]))),xc=L.a.section(Fa||(Fa=Object(J.a)(["\n    background: white;\n    padding: 30px;\n    border-radius: 10px;\n    span.MuiChip-label {\n        padding: 10px;\n        font-size: min(6vw, 1.2rem);\n        color: #999;\n    }\n"]))),Oc=Object(Wt.a)({limit:100});function mc(e){var n=new v,t=Object(O.f)(),i=a.a.useState([]),c=Object(M.a)(i,2),r=c[0],o=c[1],s=a.a.useState(""),l=Object(M.a)(s,2),d=l[0],j=l[1],u=a.a.useState(!1),h=Object(M.a)(u,2),b=h[0],p=h[1];a.a.useEffect((function(){n.getJSON("user/admin/movie",k()).then((function(e){o(e)})).catch((function(e){return console.log(e.message)})),D()&&(j(D()),p(!b))}),[]),a.a.useEffect((function(){console.log(d),null===d&&(R(""),p(!b))}),[d]);return Object(A.jsxs)(fc,{children:[Object(A.jsxs)(gc,{children:[Object(A.jsx)(wc,{onClick:function(){z(),window.location.href="/"},children:"Logout"}),Object(A.jsx)("span",{children:" Admin "}),Object(A.jsx)(vc,{children:Object(A.jsx)(ke.a,{onClick:function(){d&&R(d),t.push("/")},variant:"contained",size:"large",color:"secondary",children:"user view"})})]}),Object(A.jsxs)(yc,{children:[Object(A.jsxs)(kc,{children:[Object(A.jsx)("span",{children:" Movie: "}),Object(A.jsx)("section",{children:Object(A.jsx)(Gt.a,{filterOptions:Oc,id:"tags-standard",options:r,getOptionLabel:function(e){return e},renderInput:function(e){return Object(A.jsx)(_t.a,Object(m.a)(Object(m.a)({},e),{},{variant:"standard"}))},value:d,onChange:function(e,n){return j(n)}})}),Object(A.jsx)(ke.a,{onClick:function(){p(!b)},variant:"contained",size:"large",color:"primary",children:"go"})]}),Object(A.jsx)(ke.a,{variant:"contained",size:"large",color:"secondary",onClick:function(){t.push("/create")},children:"add movie"})]}),Object(A.jsxs)(Sc,{children:[Object(A.jsx)(Ec,{title:d,go:b}),Object(A.jsx)(Cc,{title:d,go:b})]})]})}var fc=L.a.section(Ga||(Ga=Object(J.a)(["\n    position: fixed;\n    z-index: 1;\n    top: 0;\n    left: 0;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100vw;\n    height:100vh;\n    background: #eee;\n    overflow: scroll;\n    \n"]))),gc=L.a.section(qa||(qa=Object(J.a)(["\n    width: 100%;\n    color: red;\n    font-weight: bold;\n    font-size: 2rem;\n    text-align: center;\n    position: relative;\n    padding: 8px 0;\n\n"]))),vc=L.a.section(Ba||(Ba=Object(J.a)(["\n    position: absolute;\n    top: 5px;\n    right: 15px;\n"]))),wc=L.a.button(Ka||(Ka=Object(J.a)(["\n    position: absolute;\n    top: 10px;\n    left: 15px;\n    background: none;\n    border: none;\n    padding: 0;\n    cursor: pointer;\n    outline: inherit;\n    font-size: 1.5rem;\n    font-weight: bold;\n    color: #aaa;\n    &:hover {\n      text-decoration-line: underline;\n      text-decoration-thickness: 3px;\n    }\n"]))),yc=L.a.section(Va||(Va=Object(J.a)(["\n    margin-top: 100px;\n    padding: 30px;\n    border-radius: 25px;\n    width: min(80vw, 800px);\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: white;\n\n\n"]))),Sc=L.a.section($a||($a=Object(J.a)(["\n    margin-top: 50px;\n    padding: 30px;\n    border-radius: 25px;\n    width: min(80vw, 800px);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background-color: white;\n"]))),kc=L.a.label(Ya||(Ya=Object(J.a)(["\n    display: flex;\n    width: 50%;\n    > span {\n        font-size: 1.5rem;\n        font-weight: 500;\n        margin-right: 20px;\n    }\n\n    > section {\n        flex: 1;\n        margin-right: 20px;\n    }\n\n    input {\n        font-size: 1.2rem;\n    }\n"])));function Cc(e){var n=e.title,t=e.go,i=new v,c=(Object(O.f)(),a.a.useState("Purchases")),r=Object(M.a)(c,2),o=r[0],s=r[1],l=["Purchases","Rentals"],d=a.a.useState("Past Week"),j=Object(M.a)(d,2),u=j[0],h=j[1],b=["Past Week","Past Month","Past Year","All Time"],p=a.a.useState(!1),x=Object(M.a)(p,2),f=x[0],g=x[1],w=a.a.useState({}),y=Object(M.a)(w,2),S=y[0],C=y[1];a.a.useEffect((function(){z()}),[t,f]);var z=function(){var e=l[0]===o?"purchase":"rent",t=86400;u===b[0]?t*=7:u===b[1]?t*=31:u===b[2]?t*=365:u===b[3]&&(t=365*t*20);var a=Math.floor((new Date).getTime()/1e3),c=Object(m.a)({start:a-t,end:a},n?{title:n}:{}),r=new URLSearchParams(c).toString();console.log("".concat(e,"?").concat(r)),i.getJSON("user/admin/sales/".concat(e,"?").concat(r),k()).then((function(e){console.log(e),C(Object(m.a)(Object(m.a)({},e),{},{title:n}))})).catch((function(e){return console.log(e.message)}))};return Object(A.jsxs)(zc,{children:[Object(A.jsxs)(Ic,{children:[Object(A.jsx)(Nc,{htmlFor:"select-type",children:Object(A.jsx)(Pc,{labelId:"type-label",id:"select-type",value:o,onChange:function(e){s(e.target.value),g(!f)},range:l})}),Object(A.jsx)(Nc,{htmlFor:"select-time",children:Object(A.jsx)(Pc,{labelId:"time-label",id:"select-time",value:u,onChange:function(e){h(e.target.value),g(!f)},range:b})})]}),Object(A.jsx)(Dc,{data:S,rent:!(l[0]===o)})]})}var zc=L.a.section(Xa||(Xa=Object(J.a)(["\n    width: 100%;\n   \n"]))),Ic=L.a.section(Qa||(Qa=Object(J.a)(["\n    display: flex;\n    width: 100%;\n    align-items: baseline;\n    font-weight: normal;\n    font-size: 1.3rem;\n    > span {\n        margin: 0 20px;\n    }\n"]))),Nc=L.a.label(Ha||(Ha=Object(J.a)(["\n  display: flex;\n  align-items: center;\n  margin: 20px 20px 20px 0;\n  \n  span {\n    margin: 10px;\n    font-size: min(6vw, 1em);\n    font-weight: bold;\n  }\n"]))),Pc=function(e){e.labelName;var n=e.labelId,t=e.id,i=e.value,a=e.onChange,c=e.range;return Object(A.jsx)(He.a,{variant:"outlined",children:Object(A.jsx)(Ze.a,{labelId:n,id:t,value:i,onChange:a,children:c.map((function(e){return Object(A.jsx)(en.a,{value:e,children:e},e)}))})})},Dc=function(e){e.title;var n=e.data,t=e.rent;n.result||(n.result=[]);var i=[],a=[];if(n.title)i=n.result.map((function(e){return Object(m.a)({id:e.userID,user:e.userEmail,purchased:e.pdate},t?{end:e.endDate}:{})})),a=[{field:"id",headerName:"ID",width:150},{field:"user",headerName:"User",width:250},{field:"purchased",headerName:"Purchased",flex:1}].concat(Object(T.a)(t?[{field:"end",headerName:"End",flex:1}]:[]));else{for(var c={},r={},o=0;o<n.result.length;o++){var s=n.result[o].movieTitle;c[s]=(c[s]||0)+1,r[s]=n.result[o].movieID}i=Object.keys(c).map((function(e,n){return{id:r[e],title:e,sales:c[e]}})),a=[{field:"id",headerName:"ID",width:150},{field:"title",headerName:"Title",width:350},{field:"sales",headerName:"Sales",type:"number",width:150}]}return Object(A.jsx)(Rc,{children:Object(A.jsx)(Ni.a,{rows:i,columns:a,pageSize:8})})},Rc=L.a.section(Za||(Za=Object(J.a)(["\n  margin-top: 20px;\n  border-radius: 15px;\n  padding: 0;\n  width: 100%;\n  height: 580px;\n  * {\n    z-index: 0;\n  }\n"])));function Ec(e){var n=e.title,t=e.go,i=a.a.useState(void 0),c=Object(M.a)(i,2),r=c[0],o=c[1],s=a.a.useState(!1),l=Object(M.a)(s,2),d=l[0],j=l[1],u=a.a.useState(!1),h=Object(M.a)(u,2),b=h[0],p=h[1],x=new v,m=Object(O.f)();a.a.useEffect((function(){if(n){j(!0);var e=new URLSearchParams({title:n}).toString();x.getJSON("user/admin/movie?".concat(e),k()).then((function(e){console.log(e),o(e),p(e.ispromoted),j(!1)})).catch((function(e){j(!1)}))}else o(null)}),[t]);return r||d?d?Object(A.jsx)(lr,{children:Object(A.jsx)("i",{className:"fas fa-spinner fa-spin"})}):Object(A.jsxs)(nr,{children:[Object(A.jsxs)(tr,{children:[Object(A.jsx)(ke.a,{onClick:function(){m.push("/edit/".concat(r.id))},variant:"contained",color:"primary",children:"EDIT"}),Object(A.jsx)(ke.a,{onClick:function(){var e={movieID:r.id,promote:!r.ispromoted};x.postJSON("user/admin/promote",e,k()).then((function(e){p(!b)})).catch((function(e){return alert(e.message)}))},variant:"contained",color:"primary",children:b?"unpromote":"promote"})]}),Object(A.jsxs)(ir,{children:[Object(A.jsxs)(ar,{children:[Object(A.jsxs)("header",{children:[" ",r.title," "]}),Object(A.jsx)(or,{children:Object(A.jsx)(G,{id:r.id,src:r.url,alt:r.title+" poster",width:"300"})}),Object(A.jsxs)(sr,{children:[Object(A.jsx)(F.a,{name:"half-rating-read",value:r.rating,precision:.5,readOnly:!0,size:"medium"}),Object(A.jsxs)("span",{children:[" ",r.rating," "]}),Object(A.jsxs)("span",{children:[" (",r.numRating,") "]})]})]}),Object(A.jsxs)(cr,{children:[Object(A.jsxs)(rr,{children:[Object(A.jsx)("header",{children:"Overview: "}),r.overview]}),Object(A.jsxs)(rr,{children:[Object(A.jsx)("header",{children:"Language: "}),it.a.getName(r.language)]}),Object(A.jsxs)(rr,{children:[Object(A.jsx)("header",{children:"MPAA: "}),r.adult]}),Object(A.jsxs)(rr,{children:[Object(A.jsx)("header",{children:"Genre: "}),r.genres.join(", ")]}),Object(A.jsxs)(rr,{children:[Object(A.jsx)("header",{children:"Keywords: "}),r.keywords.join(", ")]}),Object(A.jsxs)(rr,{children:[Object(A.jsx)("header",{children:"Release Date: "}),r.release_date]}),Object(A.jsxs)(rr,{children:[Object(A.jsx)("header",{children:"Purchase Price: "}),"$",r.purchaseprice]}),Object(A.jsxs)(rr,{children:[Object(A.jsx)("header",{children:"Rent Price: "}),"$",r.rentprice]})]})]})]}):null}var Jc,Tc,Mc,Lc,Fc,Ac,Uc,_c,Wc,Gc,qc,Bc,Kc,Vc,$c,Yc,Xc,Qc,Hc,Zc,er,nr=L.a.section(ec||(ec=Object(J.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    \n"]))),tr=L.a.section(nc||(nc=Object(J.a)(["\n    width: 100%;\n    display: flex;\n    justify-content: flex-end;\n\n    > button {\n        margin: 10px;\n    }\n"]))),ir=L.a.section(tc||(tc=Object(J.a)(["\n    width: 100%;\n    display: flex;\n    margin: 20px 0 50px 0;\n"]))),ar=L.a.section(ic||(ic=Object(J.a)(["\n    flex: 1; \n    display: flex;\n    flex-direction: column;\n    > * {\n        margin-bottom: 20px;\n    }\n    > header {\n        font-size: 1.5rem;\n        font-weight: bold;\n    }\n"]))),cr=L.a.section(ac||(ac=Object(J.a)(["\n    flex: 1;  \n    display: flex;\n    flex-direction: column\n"]))),rr=L.a.section(cc||(cc=Object(J.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    font-size: 1rem;\n    margin-bottom: 20px;\n    \n\n    > header {\n        font-size: 1rem;\n        font-weight: bold;\n        margin-right: 5px;\n    }\n"]))),or=L.a.section(rc||(rc=Object(J.a)(["\n    width: 240px;\n    height: 350px;\n"]))),sr=L.a.section(oc||(oc=Object(J.a)(["\n    width: 100%;\n    display: flex;\n    align-items: center;\n    height: 50px;\n    \n    > span {\n        line-height: 1;\n    }\n    > span:nth-child(2) {\n        margin: 0 15px 0 5px;\n    }\n"]))),lr=L.a.section(sc||(sc=Object(J.a)(["\n    font-size: 2rem;\n"]))),dr=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},jr=function(){var e=w.getItem("email");return e?dr(e.split(/@/)[0]):"user"},ur=Object(Wt.a)({limit:100});function hr(){var e=new v,n=Object(O.f)(),t=Object(O.g)(),c=Object(i.useState)(""),r=Object(M.a)(c,2),o=r[0],s=r[1],l=Object(i.useState)(!1),d=Object(M.a)(l,2),j=d[0],u=d[1],h=Object(i.useState)(!1),b=Object(M.a)(h,2),p=b[0],x=b[1],f=Object(i.useState)("Title"),g=Object(M.a)(f,2),w=g[0],y=g[1],D=Object(i.useState)(0),R=Object(M.a)(D,2),E=R[0],J=R[1],T=Object(i.useState)([]),L=Object(M.a)(T,2),F=L[0],U=L[1],_=Object(i.useState)([]),W=Object(M.a)(_,2),G=W[0],q=W[1],B=Object(i.useState)([]),K=Object(M.a)(B,2),V=K[0],$=K[1],Y=Object(i.useState)([]),X=Object(M.a)(Y,2),Q=X[0],H=X[1];if(a.a.useEffect((function(){P().then((function(e){U(e.genres),q(e.keywords)})).catch((function(e){return console.log(e.message)}))}),[]),Object(i.useEffect)((function(){if(console.log(t),S()&&(N()?J(N):e.getJSON("user/cart",k()).then((function(e){I(e.cart.length),J(e.cart.length),console.log(e.cart.length)}))),"/search"===t.pathname){var n=new URLSearchParams(t.search),i=n.get("category"),a=n.get("q");y(i),"Title"===i?s(a):"Genre"===i?$(a.split("|").map((function(e){return e.split(" ").map((function(e){return dr(e)})).join(" ")}))):"Keyword"===i?H(a.split("|")):"Overview"===i&&s(a)}}),[t]),"/admin"===t.pathname)return null;var Z=Object(A.jsx)(Tr,{onClick:function(){n.push("/login")},children:"Sign in"}),ee=Object(A.jsxs)(Er,{onMouseEnter:function(){x(!0)},onMouseLeave:function(){x(!1)},children:[Object(A.jsx)("img",{src:"/images/userIcon.svg",alt:"user icon"}),Object(A.jsxs)(Ir,{hide:!p,children:[Object(A.jsxs)(Nr,{onClick:function(){return n.push("/profile")},children:[" ",jr()," "]}),Object(A.jsx)(Nr,{onClick:function(){return n.push("/history")},children:" My Movies"}),C()&&Object(A.jsx)(Nr,{onClick:function(){return n.push("/create")},children:" Add Movie"}),Object(A.jsx)(Nr,{onClick:function(){z(),window.location.href="/"},children:" Logout "})]})]}),ne=Object(A.jsxs)(Jr,{onClick:function(){return n.push("/cart")},children:[Object(A.jsx)("img",{src:"/images/cartIcon.svg",alt:"cart icon"}),Object(A.jsxs)("span",{children:[" ",E," "]})]});return Object(A.jsxs)(xr,{children:[Object(A.jsxs)(mr,{children:[Object(A.jsx)(fr,{children:Object(A.jsx)(wr,{onClick:function(){n.push("/")},src:"/images/mlogo.png",alt:"logo"})}),Object(A.jsx)(vr,{children:Object(A.jsx)(yr,{children:Object(A.jsxs)(Sr,{onSubmit:function(e){e.preventDefault(),function(){var e={category:w};if("Title"===w?e.q=o:"Genre"===w?e.q=V.join("|"):"Keyword"===w?e.q=Q.join("|"):"Overview"===w&&(e.q=o),e.q)if(e.q.length>500)alert("Search query too long.");else{var t="?"+new URLSearchParams(e).toString();console.log(t),n.push({pathname:"/search",search:t,state:{}})}}()},autoComplete:"off",children:[Object(A.jsxs)(Cr,{onClick:function(){u(!j)},children:[Object(A.jsx)(Pr,{children:w}),Object(A.jsx)(Dr,{black:!0,children:Object(A.jsx)("i",{className:j?"fas fa-chevron-up":"fas fa-chevron-down"})}),Object(A.jsxs)(zr,{hide:!j,children:[Object(A.jsx)(Nr,{onClick:function(){return y("Title")},children:"Title"}),Object(A.jsx)(Nr,{onClick:function(){return y("Genre")},children:"Genre"}),Object(A.jsx)(Nr,{onClick:function(){return y("Keyword")},children:"Keyword"}),Object(A.jsx)(Nr,{onClick:function(){return y("Overview")},children:"Overview"})]})]}),Object(A.jsxs)(Rr,{children:["Title"===w&&Object(A.jsx)("input",{value:o,onChange:function(e){s(e.target.value)},type:"text",id:"query",name:"query",placeholder:"Search.."}),"Genre"===w&&Object(A.jsx)("section",{children:Object(A.jsx)(Gt.a,{fullWidth:!0,multiple:!0,id:"tags-standard",options:F,getOptionLabel:function(e){return e},renderInput:function(e){return Object(A.jsx)(_t.a,Object(m.a)(Object(m.a)({},e),{},{placeholder:"Search..",variant:"standard",InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{disableUnderline:!0})}))},value:V,onChange:function(e,n){return $(n)}})}),"Keyword"===w&&Object(A.jsx)("section",{children:Object(A.jsx)(Gt.a,{filterOptions:ur,multiple:!0,id:"tags-standard",options:G,getOptionLabel:function(e){return e},renderInput:function(e){return Object(A.jsx)(_t.a,Object(m.a)(Object(m.a)({},e),{},{placeholder:"Search..",variant:"standard",InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{disableUnderline:!0})}))},value:Q,onChange:function(e,n){return H(n)}})}),"Overview"===w&&Object(A.jsx)("input",{value:o,onChange:function(e){s(e.target.value)},type:"text",id:"query",name:"query",placeholder:"Search.."})]}),Object(A.jsx)(kr,{type:"submit",children:Object(A.jsx)("i",{className:"fas fa-search fa-2x"})})]})})}),Object(A.jsxs)(gr,{children:[S()?ne:Object(A.jsx)("div",{}),S()?ee:Z]})]}),C()&&Object(A.jsx)(Or,{children:Object(A.jsx)(ke.a,{onClick:function(){n.push("/admin")},variant:"contained",size:"large",color:"secondary",children:"admin view"})})]})}var br,pr,xr=L.a.nav(Jc||(Jc=Object(J.a)(["\n    width: 100vw;\n"]))),Or=L.a.section(Tc||(Tc=Object(J.a)(["\n    width: 100%;\n    color: red;\n    font-weight: bold;\n    font-size: 2rem;\n    text-align: center;\n\n"]))),mr=L.a.section(Mc||(Mc=Object(J.a)(["\n    display:flex;\n    justify-content: space-between;\n    align-items: center;\n    color: white;\n    height: 80px;\n    /*border: 1px solid red;*/\n    * {\n        /*border: 1px solid red !important;*/\n\n    }\n"]))),fr=L.a.section(Lc||(Lc=Object(J.a)(["\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    @media (max-width: 1100px) {\n       flex: 0;\n    }\n    /*width: 240px;\n    \n    cursor:pointer;\n    :hover {\n        background: #333;\n    }\n    @media (max-width: 1317px) {\n        width: 150px;\n    }\n    @media (max-width: 800px) {\n        width: 0px;\n    }  */\n"]))),gr=L.a.section(Fc||(Fc=Object(J.a)(["\n    flex: 1;\n    height: 100%;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n\n"]))),vr=L.a.section(Ac||(Ac=Object(J.a)(["\n    flex: 4;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n\n"]))),wr=L.a.img(Uc||(Uc=Object(J.a)(["\n    width:80%;\n    :hover {\n        background: #333;\n    }\n"]))),yr=L.a.div(_c||(_c=Object(J.a)(["\n    position: relative;\n    z-index: 1;\n    width: 80%;\n    display: flex;\n    background: white;\n    padding: 5px 20px;\n    border-radius: 30px;\n    margin-top: 15px;\n"]))),Sr=L.a.form(Wc||(Wc=Object(J.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    > * {\n        margin: 0 5px;\n    }\n"]))),kr=L.a.button(Gc||(Gc=Object(J.a)(["\n    background: none;\n    border: none;\n    padding: 0;\n    cursor: pointer;\n    outline: inherit;\n    i:hover {\n        color: #aaa;\n    }\n"]))),Cr=L.a.div(qc||(qc=Object(J.a)(["\n    display:flex;\n    justify-content: space-around;\n    align-items: center;\n    border-radius: 5px;\n    padding: 10px 5px;\n    > * {\n        margin: 0 5px;\n    }\n    &:hover{\n        background-color: grey;\n    }\n    transition: all .5s;\n"]))),zr=L.a.div(Bc||(Bc=Object(J.a)(["\n    z-index: 5;\n    background-color: white;\n    display: ",";\n    position: absolute;\n    min-width:120px;\n    cursor: pointer;\n    top: 55px;\n    border-radius: 5px;\n    overflow: hidden;\n"])),(function(e){return e.hide?"none":"unset"})),Ir=L.a.div(Kc||(Kc=Object(J.a)(["\n    z-index: 1;\n    background-color: white;\n    display: ",";\n    position:absolute;\n    width:120px;\n    cursor:pointer;\n    top: 70px;\n    border-radius: 5px;\n    overflow: hidden;\n"])),(function(e){return e.hide?"none":"unset"})),Nr=L.a.div(Vc||(Vc=Object(J.a)(["\n    color:black;\n    display: block;\n    padding: 1rem;\n    font-weight:bold;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    &:hover{\n        background-color: grey;\n    }\n\n"]))),Pr=L.a.div($c||($c=Object(J.a)(["\n    margin-bottom: 2px;\n    color:black;\n    font-weight:bold;\n    line-height: 1;\n"]))),Dr=L.a.span(Yc||(Yc=Object(J.a)(["\n    color: ",";\n    cursor:pointer;\n\n"])),(function(e){return e.black?"black":"white"})),Rr=L.a.label(Xc||(Xc=Object(J.a)(["\n\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    > input {\n        border: none;\n        outline: none;\n        width: 100%;\n        font-size: 1.2rem;\n    }\n\n    > section {\n        width: 100%;\n\n    }\n    \n"]))),Er=(L.a.input(Qc||(Qc=Object(J.a)(["\n    width: auto;\n    \n    font-size: 1.2rem;\n    @media (max-width: 1317px) {\n        width: 300px;\n    }\n    @media (max-width: 800px) {\n        width: 200px;\n    }\n"]))),L.a.section(Hc||(Hc=Object(J.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    \n    \n    img:hover {\n        filter: invert(0.8);\n    }\n\n    img {\n        filter: invert(1);\n        width: 50px;\n        height: 50px;\n        margin-right: 30px;\n        margin-left: 20px;\n        \n    }\n\n    @media (max-width: 1860px) {\n       margin-right: 40px;\n    }\n\n"])))),Jr=L.a.section(Zc||(Zc=Object(J.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n    :hover {\n        background: #333;\n        span {\n            background: #333;\n        }\n    }\n    \n    img {\n        filter: invert(1);\n        width: 60px;\n        height: 60px;\n        position: relative;\n        left: 10px;\n        top: -2px;\n    }\n\n    span {\n        background-color: black;\n        height: 30px;\n        font-size: 1.9rem;\n        font-weight: bold;\n        color: orange;\n        position: relative;\n        left: -28px;\n        top: -15px;\n    }\n\n"]))),Tr=L.a.button(er||(er=Object(J.a)(["\n    background: none;\n    border: none;\n    padding: 0;\n    cursor: pointer;\n    outline: inherit;\n    font-size: min(5vw, 1.5rem);\n    font-weight: bold;\n    color: white;\n    &:hover {\n      text-decoration-line: underline;\n      text-decoration-thickness: 2px;\n    }\n\n    @media (max-width: 1000px) {\n       margin-right: 20px;\n    }\n"])));function Mr(){return Object(A.jsxs)(Wr,{children:[Object(A.jsx)(_r,{src:"/images/mflix.jpg",alt:"logo"}),"Copyright \xa9 2021 Movieflix inc All right reserved"]})}var Lr,Fr,Ar,Ur,_r=L.a.img(br||(br=Object(J.a)(["\n    position: relative;\n    cursor:pointer;\n    height:50px;\n    width:50px;\n    left:40%;\n    padding-bottom:4rem;\n"]))),Wr=L.a.div(pr||(pr=Object(J.a)(["\n\n    text-align: center;\n    display:flex;\n    flex-direction: column;\n    margin-top: 20rem;\n    margin-left: auto;\n    margin-right: auto;\n    width: 30rem;\n    font-size: 15px;\n    color: white;\n\n\n"]))),Gr=t(105),qr=t.n(Gr);function Br(e){return Object(A.jsx)(qr.a,{config:eo,actionProvider:Zr,messageParser:Hr})}function Kr(e){return{Type:"text",Content:e}}L.a.div(Lr||(Lr=Object(J.a)(["\n  position: fixed;\n  right:100px;\n  bottom:0;\n\n  width: 400px;\n  height:600px;\n  background-color:white;\n"])));var Vr,$r,Yr,Xr,Qr,Hr=function(){function e(n,t){Object(f.a)(this,e),this.api=new v,this.actionProvider=n,this.state=t}return Object(g.a)(e,[{key:"parse",value:function(e){var n=this,t={message:{from:"user",type:"text",content:e}};this.api.postJSON("chatbot",t,k()).then((function(e){console.log(e),n.actionProvider.createMessage(e)})).catch((function(e){return alert(e.message)}))}}]),e}(),Zr=function(){function e(n,t,i){Object(f.a)(this,e),this.createChatBotMessage=n,this.setState=t,this.createClientMessage=i}return Object(g.a)(e,[{key:"confused",value:function(){var e=this.createChatBotMessage(Kr("I only talk about movie"));this.updateChatbotState(e)}},{key:"movie",value:function(){var e=this.createChatBotMessage(Kr("movie is good"));this.updateChatbotState(e)}},{key:"createMessage",value:function(e){this.updateChatbotState(this.createChatBotMessage(e))}},{key:"updateChatbotState",value:function(e){this.setState((function(n){return Object(m.a)(Object(m.a)({},n),{},{messages:[].concat(Object(T.a)(n.messages),[e])})}))}}]),e}(),eo={initialMessages:[Object(Gr.createChatBotMessage)(Kr("Hi, I'm here to help. What can I do for you"),{widget:"learningOptions"})],botName:"Mflix super bot",customComponents:{botAvatar:function(e){return Object(A.jsx)(no,Object(m.a)({},e))},botChatMessage:function(e){return io(e)}}},no=function(){return Object(A.jsx)("div",{className:"react-chatbot-kit-chat-bot-avatar",children:Object(A.jsx)("div",{className:"react-chatbot-kit-chat-bot-avatar-container",children:Object(A.jsx)(to,{src:"/images/avatar3.png",alt:"bot icon"})})})},to=L.a.img(Fr||(Fr=Object(J.a)(["\n\n  width:60px;\n"]))),io=function(e){var n=e.message.Content,t=e.message.Type;return Object(A.jsxs)(ao,{className:"react-chatbot-kit-chat-bot-message",children:["text"===t&&Object(A.jsxs)("span",{children:[" ",n," "]}),"search link"===t&&Object(A.jsx)(ro,{link:n}),"movie"===t&&Object(A.jsx)(oo,{movie:n})]})},ao=L.a.section(Ar||(Ar=Object(J.a)(["\n    padding: 10px;\n"]))),co=L.a.section(Ur||(Ur=Object(J.a)(["\n    \n    display: flex;\n    flex-direction: column;\n    flex-wrap: wrap;\n    > a {\n        color: white;\n        text-decoration: underline;\n        cursor: pointer;\n        word-break: break-all\n    }\n\n    > :first-child {\n        margin-bottom: 10px;\n    }\n\n    > header {\n        font-size: 1.2rem;\n        font-weight: 500;\n    }\n"])));function ro(e){var n=e.link,t=Object(O.f)(),i=new URLSearchParams(n.replace("search?","")),a=i.get("q");return a&&(a=a.split("|")),Object(A.jsxs)(co,{children:[Object(A.jsxs)("span",{children:["Are you searching for movies with the ",i.get("category").toLowerCase(),a.length>1?"s":null,": ",a.join(", "),"?"]}),Object(A.jsx)(ke.a,{size:"small",variant:"contained",color:"primary",onClick:function(){t.push("/".concat(n))},style:{fontWeight:"bold",background:"#504487"},children:"Link"})]})}function oo(e){var n=e.movie;return Object(A.jsxs)(co,{children:[Object(A.jsx)("span",{children:" This movie matches your description."}),Object(A.jsxs)("header",{children:[" ",n.title," "]}),Object(A.jsx)(G,{id:n.id,src:n.url,alt:n.title+" poster",width:"200"})]})}var so=Object(L.b)(Vr||(Vr=Object(J.a)(["\n  from {\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  to {\n    opacity: 100%;\n    pointer-events: auto;\n  }\n"])));Object(L.b)($r||($r=Object(J.a)(["\n  from {\n    bottom: 30px;\n    right: 100px;\n  }\n\n  to {\n    bottom: 475px;\n    right: 410px;\n  }\n"])));function lo(e){var n=a.a.useState(!1),t=Object(M.a)(n,2),i=t[0],c=t[1],r=a.a.useState(void 0),o=Object(M.a)(r,2),s=o[0],l=(o[1],a.a.useState(void 0)),d=Object(M.a)(l,2),j=d[0],u=d[1];return Object(A.jsxs)(jo,{children:[Object(A.jsx)(ho,{onClick:function(){u(so),c(!i)},direction:i,animation:s,children:Object(A.jsx)("img",{src:"/images/avatar3.png",alt:"avatar"})},i),Object(A.jsx)(uo,{direction:i,animation:j,children:Object(A.jsx)(Br,{})},!i)]})}var jo=L.a.section(Yr||(Yr=Object(J.a)(["\n    pointer-events: none;\t\n    background: none;\n\tposition: fixed;\n    z-index: 1;\n\tbottom: 0;\n    right: 0;\n    display: flex;\n    justify-content: flex-end;\n"]))),uo=L.a.section(Xr||(Xr=Object(J.a)(["\n    .react-chatbot-kit-chat-container {\n        width: 300px;\n    }\n    pointer-events: none;\n    opacity: 0;\n    display: flex;\n    flex-direction: column;\n    width: 290px;\n    height: 500px;\n    margin: 0 90px 100px 0;\n    border-radius: 2%;\n    animation-name: ",";\n    animation-duration: 0.5s;\n    animation-timing-function: ease-in-out;\n    animation-fill-mode: forwards;\n    animation-direction: ",";\n"])),(function(e){return e.animation}),(function(e){return e.direction?"normal":"reverse"})),ho=L.a.section(Qr||(Qr=Object(J.a)(["\n    pointer-events: auto;\n    z-index: 1;\n    position: absolute;\n    bottom: 30px;\n    right: 100px;\n    > img {\n        background: white;\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n     \n    }\n    animation-name: ",";\n    animation-duration: 0.8s;\n    animation-timing-function: ease-in-out;\n    animation-fill-mode: forwards;\n    animation-direction: ",";\n"])),(function(e){return e.animation}),(function(e){return e.direction?"normal":"reverse"}));var bo=function(){return a.a.useEffect((function(){P().then((function(e){return console.log("init success")})).catch((function(e){return alert(e.message)}))}),[]),Object(A.jsxs)(x.a,{children:[Object(A.jsx)(hr,{}),Object(A.jsxs)(O.c,{children:[Object(A.jsx)(O.a,{exact:!0,path:"/",children:Object(A.jsx)(Oe,{})}),Object(A.jsx)(O.a,{path:"/login",children:Object(A.jsx)(Ce,{})}),Object(A.jsx)(O.a,{path:"/register",children:Object(A.jsx)(Le,{})}),Object(A.jsx)(O.a,{path:"/search",children:Object(A.jsx)(On,{})}),Object(A.jsx)(O.a,{path:"/movie/:id",children:Object(A.jsx)(at,{})}),Object(A.jsx)(O.a,{path:"/profile",children:Object(A.jsx)(xi,{})}),Object(A.jsx)(O.a,{path:"/sales",children:Object(A.jsx)(Pi,{})}),Object(A.jsx)(O.a,{path:"/cart",children:Object(A.jsx)(Vi,{})}),Object(A.jsx)(O.a,{path:"/payment",children:Object(A.jsx)(la,{})}),Object(A.jsx)(O.a,{path:"/history",children:Object(A.jsx)(ga,{})}),Object(A.jsx)(O.a,{path:"/create",children:Object(A.jsx)(Bt,{})}),Object(A.jsx)(O.a,{path:"/edit/:id",children:Object(A.jsx)(Bt,{})}),Object(A.jsx)(O.a,{path:"/watch/:id",children:Object(A.jsx)(Pa,{})}),Object(A.jsx)(O.a,{path:"/survey",children:Object(A.jsx)(Wa,{})}),Object(A.jsx)(O.a,{path:"/admin",children:Object(A.jsx)(mc,{})}),Object(A.jsx)(O.a,{exact:!0,path:"/testing",children:Object(A.jsx)(nn,{})})]}),Object(A.jsx)(lo,{}),Object(A.jsx)(Mr,{})]})};r.a.render(Object(A.jsx)(o.a,{store:p,children:Object(A.jsx)(a.a.StrictMode,{children:Object(A.jsx)(bo,{})})}),document.getElementById("root"))}},[[201,1,2]]]);
//# sourceMappingURL=main.03dd2907.chunk.js.map